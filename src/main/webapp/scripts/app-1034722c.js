!function(){"use strict";angular.module("app.examples.authentication",[])}(),function(){"use strict";function e(e,t,n,a,r){function o(n,r){function o(e){return e.data}function i(e){a.error("Plan Details Fetch Failure: "+e.data)}var l=t.url+"role/pass/"+n+"/change";return e({method:"post",url:l,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:r}).then(o).catch(i)}function i(n){return e.post(t.url+"login",n).then(function(e){return e.data.token})}function l(n){return e.get(t.url+"role/"+n).then(function(e){return e.data})}function d(){return e.get(t.url+"available").then(function(e){return e.data})}function m(){function n(e){return e.data}function r(e){a.error("Plan Details Fetch Failure: "+e.data)}var o=t.url+"role/id";return e({method:"GET",url:o,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:""}).then(n).catch(r)}function c(n,a){var o=n?{authorization:"Basic "+btoa(n.username+":"+n.password)}:{},i={method:"GET",url:t.url+"user",headers:o};e(i).success(function(e){e.name?r.authenticated=!0:r.authenticXated=!1,a&&a()}).error(function(){r.authenticated=!1,a&&a()})}var s={authenticate:c,login:i,hasRole:l,getId:m,checkAvailable:d,changePass:o};return s}angular.module("app.examples.authentication").service("LoginService",e),e.$inject=["$http","AUTH_CONFIG","$httpParamSerializerJQLike","$log","$rootScope"]}(),function(){"use strict";function e(e,t,n,a,r,o,i,l){function d(){return u(),a.login(p.user).then(m,c)}function m(){return t.go(a.role.finance?"fbsa.ui.stat-modify-imp":a.role.course?"fbsa.ui.imp-course-modify-page":"fbsa.ui.stat-imp")}function c(e){l.show(l.simple().textContent("登录错误:"+e))}function s(){return n.checkAvailable().then(function(e){p.closureDate=e})}function u(){e.user={},e.role={},i.remove("token"),i.remove("term"),i.remove("major"),o.defaults.headers.common.Authorization=""}var p=this;p.login=d,p.triSettings=r,p.user={username:"",password:""},p.logout=u,u(),s()}angular.module("app.examples.authentication").controller("LoginController",e),e.$inject=["$rootScope","$state","LoginService","authService","triSettings","$http","$cookieStore","$mdToast"]}(),function(){"use strict";function e(e,t,n,a,r,o,i,l,d,m){function c(){r.changePass(g.user.oldPassword,g.user.newPassword).then(function(){u(),m.location.href=n.href("fbsa.ui.stat-imp"),m.location.reload()},function(t){i.error(t),e.user=""})}function s(){r.checkAvailable().then(function(t){g.closureDate=t,e.closureDate=g.closureDate})}function u(){e.user="",e.user=null,e.role={},d.remove("token"),l.defaults.headers.common.Authorization=""}function p(){login()}var g=this;g.loginClick=p,g.triSettings=o,g.user={username:"admin",password:"admin"},g.changePass=c,g.logout=u,s()}angular.module("app.examples.authentication").controller("PassController",e),e.$inject=["$rootScope","$scope","$state","$cookies","LoginService","triSettings","$log","$http","$cookieStore","$window"]}(),function(){"use strict";angular.module("app.ui.system",[])}(),function(){"use strict";function e(e,t,n,a,r,o,i,l,d,m){function c(){function n(e){return e.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=i.url+"t";return t.get(r).then(n).catch(a)}function s(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var o=i.url+"t/update/"+n;return e.info(o),t({method:"GET",url:o,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function u(n,a,r){function o(e){return e.data}function l(t){e.error("Plan Details Fetch Failure: "+t.data)}var d=i.url+"deadline/update/"+n+"/"+a+"/"+r;return e.info(d),t({method:"GET",url:d,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(o).catch(l)}function p(){return n.get("term")}function g(){return n.get("major")}function h(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"m/modify";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function f(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"mt/init";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function v(n,a){function r(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=o.url+"t/auth/"+a+"/update";return e.info(l),t({method:"POST",url:l,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(r).catch(i)}function b(n){function a(t){return e.info("Get Plan From API Success"),t.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"m/"+n+"/delete";return e.info(i),t.get(i).then(a).catch(r)}function y(){function n(t){return e.info("Get Plan From API Success"),t.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=o.url+"mt";return e.info(r),t.get(r).then(n).catch(a)}function C(){function n(t){return e.info("Get Plan From API Success"),t.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=o.url+"t/available";return e.info(r),t.get(r).then(n).catch(a)}function T(){function n(t){return e.info("Get Plan From API Success"),t.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=o.url+"t/resp";return e.info(r),t.get(r).then(n).catch(a)}function w(){function n(t){return e.info("Get Plan From API Success"),t.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=o.url+"t/resp/c";return e.info(r),t.get(r).then(n).catch(a)}function j(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"m/init";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function I(n,a){function r(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=o.url+"i/comment/m/"+n+"/t/"+a;return t({method:"GET",url:l,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(r).catch(i)}function S(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"mt/t/"+n;return t({method:"GET",url:i,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function P(e){t({url:e,responseType:"arraybuffer"}).success(function(e){var t=new m([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});d.saveAs(t,"result.xls")}).error(function(){})}function k(e){var t=o.url+"o/i/m/"+e;P(t)}function F(n,a,r){function i(){e.info(m),P(m)}function l(t){e.error("Plan Details Fetch Failure: "+t.data),P(m)}var d=o.url+"i/comment/m/"+n+"/t/"+a+"/update",m=o.url+"o/i/m/"+n+"/t/"+a;return t({method:"POST",url:d,data:r,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(i).catch(l)}function x(n,a){function r(){e.info("okay")}function i(t){e.error("Plan Details Fetch Failure: "+t.data),P(excelURI)}var l=o.url+"m/t/"+n+"/update";return t({method:"POST",url:l,data:a,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(r).catch(i)}function M(n,a){function r(){e.info("okay")}function i(t){e.error("Plan Details Fetch Failure: "+t.data),P(excelURI)}var l=o.url+"t/"+n+"/charge";return t({method:"POST",url:l,data:a,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(r).catch(i)}var L={getTerm:p,getMajor:g,downloadImp:F,downloadCredits:k,getComment:I,createMajor:j,deleteMajor:b,getMajorTypes:y,createMajorType:f,modifyMajor:h,updateTeacher:v,changeRespRight:x,changeRespCoursesRight:M,getResponsables:T,getCourseResps:w,getRespMajors:S,getAllTerms:C,changeDeadline:u,changeCurrentTerm:s,getCurrentTerm:c};return L}angular.module("app.ui.system").service("SystemDataService",e),e.$inject=["$log","$http","$cookieStore","$timeout","$rootScope","API_CONFIG","AUTH_CONFIG","cfpLoadingBar","FileSaver","Blob"]}(),function(){"use strict";function e(e,t,n){e.addPart("app/ui/system"),t.state("fbsa.ui.system",{url:"/system",views:{"":{templateUrl:"app/ui/system/system-page.tmpl.html",controller:"SystemPageController",controllerAs:"vm"}}}).state("fbsa.ui.stat-log",{url:"/stat/log",views:{"":{templateUrl:"app/ui/system/stat-log-page.tmpl.html",controller:"StatLogPageController",controllerAs:"vm"}}}),n.addMenu({name:"MENU.UI.SYSTEM-MODULE",icon:"zmdi zmdi-key",type:"dropdown",priority:2.1,children:[{name:"MENU.UI.SYSTEM-PAGE",state:"fbsa.ui.system",type:"link",auth:["admin","finance","resp","personnel","president"]},{name:"MENU.UI.STAT-LOG",state:"fbsa.ui.stat-log",type:"link",auth:["admin"]}]})}angular.module("app.ui.system").config(e),e.$inject=["$translatePartialLoaderProvider","$stateProvider","triMenuProvider"]}(),function(){"use strict";function e(e,t,n,a,r,o,i,l,d,m){function c(){E.comment="",E.newTeacherAuth=1,E.newMajor={},E.deadLine=new Date,b()}function s(e){e.selected=!0;for(var t=E.availableCourseList.length-1;t>=0;t--)E.availableCourseList[t].id==e.id&&E.availableCourseList.splice(t,1);E.coursesInCharge.push(e)}function u(){return e.getAllTerms().then(function(e){E.allTerms=e}).then(p)}function p(){return e.getCurrentTerm().then(function(e){E.newCurrentTermId=e.id})}function g(){a.info(E.deadLine);var t=E.deadLine.getFullYear(),n=E.deadLine.getMonth(),r=E.deadLine.getDate();e.changeDeadline(t,n,r)}function h(){null!=E.newCurrentTermId&&e.changeCurrentTerm(E.newCurrentTermId)}function f(){return e.getResponsables().then(function(e){E.respList=e,E.currentResp=E.respList[0]}).then(function(){I()})}function v(){return e.getCourseResps().then(function(e){E.courseRespList=e,E.currentCourseResp=E.courseRespList[0]}).then(function(){D()})}function b(){E.term=e.getTerm(),E.major=e.getMajor(),null!=E.major&&null!=E.major.grade&&(E.termCount=2*(E.term.year-E.major.grade)+E.term.part,E.availableTermYears=[E.major.grade,E.major.grade+1,E.major.grade+2,E.major.grade+3]),M().then(x()).then(f()).then(v()).then(y()).then(u)}function y(){return n.getAllMajors().then(function(e){E.majorList=e,E.newMajorUpdate=j()})}function C(e){t.searchTeacher(e).then(function(e){E.teacherList=e,null!=E.teacherList[0]&&(E.selectedTeacher=E.teacherList[0])})}function T(e){t.searchCourse(e).then(function(e){E.availableCourseList=e,z()})}function w(t,n){e.updateTeacher(t,n).then(function(){b()})}function j(){if(null!=E.major&&null!=E.majorList)for(var e=0;e<E.majorList.length;e++)if(E.majorList[e].id==E.major.id)return E.majorList[e]}function I(){return e.getMajorTypes().then(function(e){E.majorTypeList=e}).then(function(){L(E.currentResp.id)})}function S(){return e.createMajorType(E.newMajorType).then(function(){})}function P(){return e.modifyMajor(E.newMajorUpdate).then(function(){})}function k(){null!=E.newMajor.majorType.title&&null!=E.newMajor.grade&&e.createMajor(E.newMajor).then(function(){b()})}function F(){a.info(E.delMajor),null!=E.delMajor&&e.deleteMajor(E.delMajor).then(function(){E.delMajor==E.major.id&&(n.deleteMajor(),n.deleteTerm(),m.$broadcast("reloadMajorAndTermAvailable")),b()})}function x(){return E.major?e.getComment(E.major.id,E.termCount).then(function(e){E.comment=e}):void 0}function M(){return d.getId().then(function(e){E.teacherId=e,y()})}function L(t){return e.getRespMajors(t).then(function(e){if(E.currentRespMajors=e,null!=E.majorTypeList)for(var t=0;t<E.majorTypeList.length;t++){E.majorTypeList[t].selected=!1;for(var n=0;n<E.currentRespMajors.length;n++)E.majorTypeList[t].id==E.currentRespMajors[n].id&&(E.majorTypeList[t].selected=!0)}})}function $(){for(var t=[],n=0;n<E.majorTypeList.length;n++)E.majorTypeList[n].selected&&t.push(E.majorTypeList[n]);return e.changeRespRight(E.currentResp.id,t)}function A(){for(var t=[],n=0;n<E.coursesInCharge.length;n++)E.coursesInCharge[n].selected&&t.push(E.coursesInCharge[n]);return e.changeRespCoursesRight(E.currentCourseResp.id,t)}function D(){null!=E.currentCourseResp.id&&t.getTeacher(E.currentCourseResp.id).then(function(e){E.coursesInCharge=e.coursesInCharge;for(var t=0;t<E.coursesInCharge.length;t++)E.coursesInCharge[t].selected=!0})}function z(){for(var e=E.availableCourseList.length-1;e>=0;e--)for(var t=E.coursesInCharge.length-1;t>=0;t--)E.availableCourseList[e].id===E.coursesInCharge[t].id&&E.availableCourseList.splice(e,1)}var E=this;E.createMajor=k,E.deleteMajor=F,E.createMajorType=S,E.modifyMajor=P,E.searchTeacher=C,E.updateTeacher=w,E.changeRespRight=$,E.getMajorTypes=I,E.changeDeadline=g,E.changeCurrentTerm=h,E.searchCourse=T,E.addCourse=s,E.changeRespCoursesRight=A,E.coursesInCharge=[],c(),o.$watch("vm.currentResp",function(e){null!=e&&(a.info(e),I())}),o.$watch("vm.currentCourseResp",function(e){null!=e&&(a.info(e),D())}),o.$on("majorOrTermChanged",function(){b()})}angular.module("app.ui.system").controller("SystemPageController",e),e.$inject=["SystemDataService","impDataService","appService","$log","$mdDialog","$scope","$mdToast","API_CONFIG","LoginService","$rootScope"]}(),function(){"use strict";function e(e){function t(){n.log=e.getLog()}var n=this;t()}angular.module("app.ui.system").controller("StatLogPageController",e),e.$inject=["StatDataService"]}(),function(){"use strict";angular.module("app.ui.export",[])}(),function(){"use strict";function e(e,t,n,a,r,o,i,l){function d(){return n.get("term")}function m(){return n.get("major")}function c(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"s/add";return t({method:"POST",url:i,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:n}).then(a).catch(r)}function s(t,n){var a=o.url+"i/s/"+n;return e.info(a),l.upload({url:a,data:{file:t}}).then(function(t){e.info("Success "+t.config.data.file.name+"uploaded. Response: "+t.data)},function(t){e.info("Error status: "+t.status)},function(t){var n=parseInt(100*t.loaded/t.total);e.info("progress: "+n+"% "+t.config.data.file.name)})}function u(){function n(e){return e.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=o.url+"t/id/"+username;return t({method:"GET",url:r,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:""}).then(n).catch(a)}function p(){function n(e){return e.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=o.url+"t/all";return t({method:"GET",url:r,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:""}).then(n).catch(a)}function g(n,a,r){function i(e){return e.data}function l(t){e.error("Plan Details Fetch Failure: "+t.data)}var d=o.url+"t/"+n+"/term/"+a+"/"+r+"/s";return t({method:"GET",url:d,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:""}).then(i).catch(l)}function h(n,a,r){function i(e){return e.data}function l(t){e.error("Plan Details Fetch Failure: "+t.data)}var d=o.url+"i/term/"+n+"/"+a+"/resId/"+r+"/reject";return t({method:"GET",url:d,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(i).catch(l)}function f(e){var t,n=new XMLHttpRequest;return n.open("GET",e,!1),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||0==n.status)&&(t=n.responseText)},n.send(null),t}function v(){var e=i.url+"log.txt";return f(e)}function b(n,a){function r(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=o.url+"s/update";return t({method:"POST",url:l,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:angular.toJson({salaryDTOs:n,salaryAdjustments:a})}).then(r).catch(i)}function y(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"s/"+n+"/delete";return t({method:"GET",url:i,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function C(n,a,r,i){function l(e){return e.data}function d(t){e.error("Plan Details Fetch Failure: "+t.data)}var m=o.url+"i/"+n+"/t/"+a+"/s/"+i+"/reject";return(null==r||""==r)&&(r="无"),t({method:"POST",url:m,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:r}).then(l).catch(d)}function T(n,a,r,i){function l(e){return e.data}function d(t){e.error("Plan Details Fetch Failure: "+t.data)}var m=o.url+"i/"+n+"/t/"+a+"/s/"+i+"/reject/cancel";return(null==r||""==r)&&(r="无"),t({method:"POST",url:m,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"},data:r}).then(l).catch(d)}var w={getTerm:d,getMajor:m,getTeacher:p,getSalary:g,updateSalaryList:b,rejectSalaryEntity:C,getRejected:h,deleteSalaryEntity:y,getLog:v,getTeacherId:u,importSalary:s,submitSalaryEntity:c,cancelRejectSalaryEntity:T};return w}angular.module("app.ui.export").service("StatDataService",e),e.$inject=["$log","$http","$cookieStore","$timeout","$rootScope","API_CONFIG","LOG_CONFIG","Upload"]}(),function(){"use strict";angular.module("app.ui.stat",[])}(),function(){"use strict";function e(e,t,n){e.addPart("app/ui/stat"),t.state("fbsa.ui.stat-imp",{url:"/stat",views:{"":{templateUrl:"app/ui/stat/stat-page.tmpl.html",controller:"StatPageController",controllerAs:"vm"}}}).state("fbsa.ui.stat-modify-imp",{url:"/stat/modify",views:{"":{templateUrl:"app/ui/stat/stat-page-modify.tmpl.html",controller:"StatPageModifyController",controllerAs:"vm"}}}).state("fbsa.ui.stat-correction-imp",{url:"/stat/correction",views:{"":{templateUrl:"app/ui/stat/stat-page-correction.tmpl.html",controller:"StatPageCorrectionController",controllerAs:"vm"}}}),n.addMenu({name:"MENU.UI.STAT-MODULE",icon:"zmdi zmdi-ruler",type:"dropdown",priority:2.1,children:[{name:"MENU.UI.STAT-PAGE",state:"fbsa.ui.stat-imp",type:"link",auth:["admin","resp","teacher","president"]},{name:"MENU.UI.STAT-MODIFY-PAGE",state:"fbsa.ui.stat-modify-imp",type:"link",auth:["admin","finance"]},{name:"MENU.UI.STAT-CORRECTION-PAGE",state:"fbsa.ui.stat-correction-imp",type:"link",auth:["admin","resp"]}]})}angular.module("app.ui.stat").config(e),e.$inject=["$translatePartialLoaderProvider","$stateProvider","triMenuProvider"]}(),function(){"use strict";function e(e,t,n){function a(){n.hide(!1)}function r(){n.cancel(!0)}function o(e){var t={answer:e,comment:i.comment};n.hide(t)}var i=this;i.comment="",i.cancelClick=r,i.okClick=a,i.answer=o}angular.module("app.ui.stat").controller("StatRejectDialogController",e),e.$inject=["$log","$window","$mdDialog"]}(),function(){"use strict";function e(e,t,n,a,r,o,i){function l(){t.getId().then(function(e){g.currentTeacher=e}),g.term=e.getTerm(),g.major=e.getMajor(),null!=g.term&&null!=g.major&&(g.termCount=2*(g.term.year-g.major.grade)+g.term.part,g.availableTermYears=[g.major.grade,g.major.grade+1,g.major.grade+2,g.major.grade+3],s(g.currentTeacher))}function d(){g.newSalaryDto.courseType="综合素质类课程",g.newSalaryDto.majorType="本科",g.newSalaryDto.periodHours=2,g.newSalaryDto.location="徐汇"}function m(){return e.submitSalaryEntity(g.newSalaryDto).then(function(){l()})}function c(e){a.searchTeacher(e).then(function(e){g.teacherList=e,r.info(g.teacherList[0]);null!=g.teacherList[0]&&(g.currentTeacher=g.teacherList[0].id),g.isSelf=t.getId()===g.teacherList[0].id})}function s(t){return null!=t&&null!=g.term?e.getSalary(t,g.term.year,g.term.part).then(function(e){g.salaryDTOs=e,g.salary=[],g.salaryStats=[];for(var t=0;t<g.salaryDTOs.length-2;t++)g.salary.push(g.salaryDTOs[t]);g.salaryStats.push(g.salaryDTOs[g.salaryDTOs.length-1]),g.salaryStats.push(g.salaryDTOs[g.salaryDTOs.length-2]),g.newSalaryDto.teacherId=g.currentTeacher}):void 0}function u(t){o.show({controller:"StatRejectDialogController",controllerAs:"vm",templateUrl:"app/ui/stat/stat-reject-dialog.tmpl.html",bindToController:!0}).then(function(n){n.answer||(t.rejected=1,e.rejectSalaryEntity(t.impId[0],g.currentTeacher,n.comment,t.id),r.info(t))})}function p(t){t.rejected=0,e.cancelRejectSalaryEntity(t.impId[0],g.currentTeacher,t.comment,t.id),r.info(t)}var g=this;g.query={order:"courseClass",limit:10,page:1},g.responsable=n.role.resp||n.role.admin,g.submitSalaryEntity=m,g.searchTeacher=c,g.rejectSalaryEntity=u,g.cancelRejectSalaryEntity=p,g.isSelf=!0,g.newSalaryDto={},l(),d(),i.$on("majorOrTermChanged",function(){l()}),i.$watch("vm.currentTeacher",function(e){s(e)}),i.$watchCollection("vm.term",function(){s(g.currentTeacher)})}angular.module("app.ui.stat").controller("StatPageController",e),e.$inject=["StatDataService","LoginService","authService","impDataService","$log","$mdDialog","$scope","$rootScope","$mdToast","API_CONFIG"]}(),function(){"use strict";function e(e,t,n,a,r,o,i,l,d){function m(){n.downloadSalary(C.term.year,C.term.part)}function c(){void 0===C.term&&(C.term=e.getTerm()),p(),g(C.currentTeacher)}function s(e){t.searchTeacher(e).then(function(e){C.teacherList=e,a.info(C.teacherList[0]);null!=C.teacherList[0]&&(C.currentTeacher=C.teacherList[0].id)})}function u(){c()}function p(){e.getTeacher().then(function(e){C.teacherList=e})}function g(t){null!=t&&e.getSalary(t,C.term.year,C.term.part).then(function(e){C.salaryDTOs=e,C.salary=[],C.salaryStats=[];for(var t=0;t<C.salaryDTOs.length-2;t++)C.salary.push(C.salaryDTOs[t]);C.salaryStats.push(C.salaryDTOs[C.salaryDTOs.length-1]),C.salaryStats.push(C.salaryDTOs[C.salaryDTOs.length-2])})}function h(){e.updateSalaryList(C.salary,C.salaryStats).then(function(){u()})}function f(e,t){null!==e&&e.length>0&&(T=e,v(e,t))}function v(t,n){return C.status="uploading",e.importSalary(t,n).then(function(){b()})}function b(){C.status="complete";var e="上传完毕";for(var t in T)e="文件"+T[t].name+" "+e;i.show({template:"<md-toast><span flex>"+e+"</span></md-toast>",position:"bottom right",hideDelay:5e3}),d(y,3e3)}function y(){C.status="idle"}var C=this;C.status="idle",C.upload=f,c(),C.currentTeacher=137,C.query={order:"courseClass",limit:10,page:1};var T;C.modifySalaryEntity=h,C.searchTeacher=s,C.downloadSalary=m,o.$on("majorOrTermChanged",function(){u()}),o.$watch("vm.currentTeacher",function(e){g(e)}),o.$watchCollection("vm.term",function(){C.salaryDTOs=[],C.salary=[],C.salaryStats=[],g(C.currentTeacher)})}angular.module("app.ui.stat").controller("StatPageModifyController",e),e.$inject=["StatDataService","impDataService","ExportDataService","$log","$mdDialog","$scope","$mdToast","API_CONFIG","$timeout"]}(),function(){"use strict";function e(e,t,n,a,r){function o(){c.term=e.getTerm(),c.major=e.getMajor(),c.termCount=2*(c.term.year-c.major.grade)+c.term.part,c.availableTermYears=[c.major.grade,c.major.grade+1,c.major.grade+2,c.major.grade+3],d()}function i(t){var r=t.course;r.term={},r.term.year=c.term.year,r.term.part=c.term.part,r.term.weeks=c.term.weeks,a.show({controller:"ImpCourseModifyDialogController",controllerAs:"vm",templateUrl:"app/ui/imp/imp-course-modify-dialog.tmpl.html",bindToController:!0,locals:{impCourse:r,grade:c.major.grade}}).then(function(a){a&&(n.info(a),e.deleteSalaryEntity(t.salary.id).then(function(){l()}))})}function l(){o()}function d(){t.getId().then(function(t){e.getRejected(c.term.year,c.term.part,t).then(function(e){c.entities=e})})}function m(t){a.show({controller:"StatRejectDialogController",controllerAs:"vm",templateUrl:"app/ui/stat/stat-reject-dialog.tmpl.html",bindToController:!0}).then(function(n){n.answer||(t.rejected=1,e.rejectSalaryEntity(t.impId[0],c.currentTeacher,n.comment).then(function(){l()}))})}var c=this;o(),c.currentTeacher=137,c.query={order:"courseClass",limit:10,page:1},c.rejectSalaryEntity=m,c.modifyImpCourse=i,r.$on("majorOrTermChanged",function(){l()})}angular.module("app.ui.stat").controller("StatPageCorrectionController",e),e.$inject=["StatDataService","LoginService","$log","$mdDialog","$scope","$mdToast","API_CONFIG"]}(),function(){"use strict";angular.module("app.ui.plan",[])}(),function(){"use strict";function e(e,t,n,a,r){function o(){return n.get("term")}function i(){return n.get("major")}function l(n){function a(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=r.url+"m/init";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(o)}function d(n){function a(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=r.url+"m/modify";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(o)}function m(n){function a(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=r.url+"mt/init";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(o)}function c(n){function a(t){return e.info("Get Plan From API Success"),t.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=r.url+"p/m/"+n;return e.info(i),t.get(i).then(a).catch(o)}function s(n){function a(t){return e.info("Get Plan From API Success"),t.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=r.url+"m/"+n+"/delete";return e.info(i),t.get(i).then(a).catch(o)}function u(){function n(t){return e.info("Get Plan From API Success"),t.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var o=r.url+"mt/";return e.info(o),t.get(o).then(n).catch(a)}function p(t,n){var o=r.url+"i/p/m/"+n;return e.info(o),a.upload({url:o,data:{file:t}}).then(function(t){e.info("Success "+t.config.data.file.name+"uploaded. Response: "+t.data)},function(t){e.info("Error status: "+t.status)},function(t){var n=parseInt(100*t.loaded/t.total);e.info("progress: "+n+"% "+t.config.data.file.name)})}function g(t,n){var o=r.url+"i/p/e/m/"+n;return e.info(o),a.upload({url:o,data:{file:t}}).then(function(e){console.log("Success "+e.config.data.file.name+"uploaded. Response: "+e.data)},function(e){console.log("Error status: "+e.status)},function(e){var t=parseInt(100*e.loaded/e.total);console.log("progress: "+t+"% "+e.config.data.file.name)})}var h={getDetailedPlan:c,importPlan:p,getTerm:o,getMajor:i,createMajor:l,deleteMajor:s,importPlanElectableCourses:g,getMajorTypes:u,createMajorType:m,modifyMajor:d};return h}angular.module("app.ui.plan").service("dataService",e),e.$inject=["$log","$http","$cookieStore","Upload","API_CONFIG"]}(),function(){"use strict";function e(e,t,n){e.addPart("app/ui/plan"),t.state("fbsa.ui.plan-page",{url:"/plan",templateUrl:"app/ui/plan/plan-page.tmpl.html",controller:"PlanPageController",controllerAs:"vm"}).state("fbsa.ui.plan-import",{url:"/plan/import",templateUrl:"app/ui/plan/plan-import.tmpl.html",controller:"PlanImportController",controllerAs:"vm"}),n.addMenu({name:"MENU.UI.PLAN-MODULE",icon:"zmdi zmdi-calendar-note",type:"dropdown",priority:1.1,children:[{name:"MENU.UI.PLAN-PAGE",state:"fbsa.ui.plan-page",type:"link",auth:["admin","resp"]},{name:"MENU.UI.PLAN-IMPORT",state:"fbsa.ui.plan-import",type:"link",auth:["admin","resp"]}]})}angular.module("app.ui.plan").config(e),e.$inject=["$translatePartialLoaderProvider","$stateProvider","triMenuProvider"]}(),function(){"use strict";function e(e,t,n){function a(){l.plans=[],l.major=e.getMajor(),r()}function r(){return null!=l.major&&void 0!=l.major.id?e.getDetailedPlan(l.major.id).then(function(e){l.plans=e,o()}):void 0}function o(){for(var e=0;e<l.plans.length;e++){var t=0,n=0;for(var a in l.plans[e].period)t+=l.plans[e].period[a];for(var r in l.plans[e].credits)n+=l.plans[e].credits[r];l.plans[e].period[8]=t,l.plans[e].credits[8]=n}}function i(){for(var e=[{title:"课程种类",field:"courseClass",sortable:!0},{title:"课程代码",field:"code",sortable:!0},{title:"课程名",field:"title",sortable:!1}],t=0;8>t;t++)e.push({title:"学时",field:"period",numericArray:t},{title:"学分",field:"credits",numericArray:t});return e.push({title:"总学时",field:"period",numericArray:8},{title:"总学分",field:"credits",numericArray:8},{title:"考核方式",field:"courseExam"}),e}var l=this;l.columns=i(),l.contents=[],a(),n.$on("majorOrTermChanged",function(){a()})}angular.module("app.ui.plan").controller("PlanPageController",e),e.$inject=["dataService","$log","$scope","$rootScope"]}(),function(){"use strict";function e(e,t,n,a,r){function o(){p.term=e.getTerm(),p.major=e.getMajor(),p.termCount=2*(p.term.year-p.major.grade)+p.term.part}function i(e){null!==e&&e.length>0&&(u=e,d(e))}function l(e){null!==e&&e.length>0&&(u=e,m(e))}function d(t){return p.status="uploading",e.importPlan(t,p.major.id).then(function(){c()})}function m(t){return p.status="uploading",e.importPlanElectableCourses(t,p.major.id).then(function(){c()})}function c(){p.status="complete";var e="上传完毕";for(var t in u)e="文件"+u[t].name+" "+e;r.show({template:"<md-toast><span flex>"+e+"</span></md-toast>",position:"bottom right",hideDelay:5e3}),a(s,3e3)}function s(){p.status="idle"}var u,p=this;p.status="idle",p.upload=i,p.uploadElectable=l,o(),n.$on("majorOrTermChanged",function(){o()})}angular.module("app.ui.plan").controller("PlanImportController",e),e.$inject=["dataService","$log","$scope","$timeout","$mdToast","appService","$rootScope"]}(),function(){"use strict";function e(e,t,n,a,r,o){function i(){return n.get("term")}function l(){return n.get("major")}function d(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"i/merge";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function m(n,a){function r(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=o.url+"i/term/"+n+"/"+a+"/merge/dto";return e.info(l),t({method:"GET",url:l,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(r).catch(i)}function c(){function n(e){return e.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=o.url+"i/merge/dto/verify";return e.info(r),t({method:"GET",url:r,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(n).catch(a)}function s(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"i/merge/verify";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function u(n){function a(e){return e.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=o.url+"i/merge/undo";return e.info(i),t({method:"POST",url:i,data:n,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(a).catch(r)}function p(){function n(e){return e.data}function a(t){e.error("Plan Details Fetch Failure: "+t.data)}var r=o.url+"i/merged";return e.info(r),t({method:"GET",url:r,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(n).catch(a)}var g={getTerm:i,getMajor:l,getImpForMerge:m,merge:d,getImpMergedForVerify:c,verifyMerge:s,deMerge:u,getImpMerged:p};return g}angular.module("app.ui.export").service("MergeDataService",e),e.$inject=["$log","$http","$cookieStore","$timeout","$rootScope","API_CONFIG"]}(),function(){"use strict";angular.module("app.ui.merge",[])}(),function(){"use strict";function e(e,t,n){e.addPart("app/ui/merge"),t.state("fbsa.ui.merge-imp",{url:"/merge",views:{"":{templateUrl:"app/ui/merge/merge-page.tmpl.html",controller:"MergePageController",controllerAs:"vm"}}}).state("fbsa.ui.merge-validation-imp",{url:"/merge/validation",views:{"":{templateUrl:"app/ui/merge/merge-validation-page.tmpl.html",controller:"MergeValidationPageController",controllerAs:"vm"}}}).state("fbsa.ui.merge-inspect-imp",{url:"/merge/inspect",views:{"":{templateUrl:"app/ui/merge/merge-inspect-page.tmpl.html",controller:"MergeInspectPageController",controllerAs:"vm"}}}),n.addMenu({name:"MENU.UI.MERGE-MODULE",icon:"zmdi zmdi-arrow-merge",type:"dropdown",priority:2.1,children:[{name:"MENU.UI.MERGE-PAGE",state:"fbsa.ui.merge-imp",type:"link",auth:["admin"]},{name:"MENU.UI.MERGE-VALIDATION-PAGE",state:"fbsa.ui.merge-validation-imp",type:"link",auth:["president"]},{name:"MENU.UI.MERGE-INSPECT-PAGE",state:"fbsa.ui.merge-inspect-imp",type:"link",auth:["admin"]}]})
}angular.module("app.ui.merge").config(e),e.$inject=["$translatePartialLoaderProvider","$stateProvider","triMenuProvider"]}(),function(){"use strict";function e(e,t,n,a){function r(){u.term=e.getTerm(),u.major=e.getMajor(),s()}function o(t){for(var n=[],a=0;a<t.length;a++)n.push({impId:t[a].id,mergeComment:t[a].mergeComment});e.verifyMerge(n)}function i(t){for(var n=[],a=0;a<t.length;a++)n.push({impId:t[a].id,mergeComment:t[a].mergeComment});e.deMerge(n)}function l(){r()}function d(e,t){var n=t.indexOf(e);n>-1?t.splice(n,1):t.push(toString(e))}function m(e,t){return t.indexOf(e)>-1}function c(e){for(var t=0,n=0;n<e.length;n++)e[n].selected&&t++;return t>1}function s(){e.getImpMergedForVerify().then(function(e){u.mergeImps=e,t.info(u.mergeImps)})}var u=this;u.comment="",u.toggle=d,u.exists=m,u.selected=[],u.showButton=c,u.merge=o,u.deMerge=i,r(),a.$on("majorOrTermChanged",function(){l()})}angular.module("app.ui.merge").controller("MergeValidationPageController",e),e.$inject=["MergeDataService","$log","$mdDialog","$scope","$mdToast"]}(),function(){"use strict";function e(e,t,n,a){function r(){u.term=e.getTerm(),u.major=e.getMajor(),u.termCount=2*(u.term.year-u.major.grade)+u.term.part,u.availableTermYears=[u.major.grade,u.major.grade+1,u.major.grade+2,u.major.grade+3],s()}function o(e){for(var t=0,n=0;n<e.length;n++)e[n].selected&&(t+=e[n].locator.major.population);return t}function i(t){for(var n=[],a=0;a<t.length;a++)t[a].selected&&n.push({impId:t[a].id,mergeComment:t[a].mergeComment});e.merge(n)}function l(){r()}function d(e,t){var n=t.indexOf(e);n>-1?t.splice(n,1):t.push(toString(e))}function m(e,t){return t.indexOf(e)>-1}function c(e){for(var t=0,n=0;n<e.length;n++)e[n].selected&&t++;return t>1&&o(e)>45}function s(){e.getImpForMerge(u.term.year,u.term.part).then(function(e){u.mergeImps=e,t.info(u.mergeImps)})}var u=this;u.comment="",u.toggle=d,u.exists=m,u.selected=[],u.showButton=c,u.merge=i,u.impPopulation=o,r(),a.$on("majorOrTermChanged",function(){l()})}angular.module("app.ui.merge").controller("MergePageController",e),e.$inject=["MergeDataService","$log","$mdDialog","$scope","$mdToast"]}(),function(){"use strict";function e(e,t,n,a){function r(){u.term=e.getTerm(),u.major=e.getMajor(),u.termCount=2*(u.term.year-u.major.grade)+u.term.part,u.availableTermYears=[u.major.grade,u.major.grade+1,u.major.grade+2,u.major.grade+3],s()}function o(t){for(var n=[],a=0;a<t.length;a++)n.push({impId:t[a].id,mergeComment:t[a].mergeComment});e.verifyMerge(n)}function i(t){for(var n=[],a=0;a<t.length;a++)n.push({impId:t[a].id,mergeComment:t[a].mergeComment});e.deMerge(n)}function l(){r()}function d(e,t){var n=t.indexOf(e);n>-1?t.splice(n,1):t.push(toString(e))}function m(e,t){return t.indexOf(e)>-1}function c(e){for(var t=0,n=0;n<e.length;n++)e[n].selected&&t++;return t>1}function s(){e.getImpMerged().then(function(e){u.mergeImps=e,t.info(u.mergeImps)})}var u=this;u.comment="",u.toggle=d,u.exists=m,u.selected=[],u.showButton=c,u.merge=o,u.deMerge=i,r(),a.$on("majorOrTermChanged",function(){l()})}angular.module("app.ui.merge").controller("MergeInspectPageController",e),e.$inject=["MergeDataService","$log","$mdDialog","$scope","$mdToast"]}(),function(){"use strict";angular.module("app.ui.imp",[])}(),function(){"use strict";function e(e,t,n,a,r){function o(){return a.get("term")}function i(a){function r(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=n.url+"i/delete/"+a;return e.info(i),t.get(i).then(r).catch(o)}function l(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"i/c/t/"+a+"/m/"+r;return e.info(l),t.get(l).then(o).catch(i)}function d(a){function r(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=n.url+"t";return e.info(i),t({method:"POST",url:i,data:a,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(r).catch(o)}function m(a){function r(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=n.url+"c";return e.info(i),t({method:"POST",url:i,data:a,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(r).catch(o)}function c(){return a.get("major")}function s(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"ps/m/"+a+"/t/"+r+"/grid";return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function u(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"l/e/m/"+a+"/t/"+r;return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function p(a){function r(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=n.url+"i/o/caution/m/"+a;return e.info(i),t.get(i,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(r).catch(o)}function g(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"i/e/caution/m/"+a+"/t/"+r;return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function u(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"l/e/m/"+a+"/t/"+r;return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function h(a,r,o,i){function l(e){return e.data}function d(t){e.error("Plan Details Fetch Failure: "+t.data)}var m=n.url+"l/m/"+a+"/t/"+r+"/cc/"+o+"/ct/"+i;return e.info(m),t.get(m,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(l).catch(d)}function f(a){function r(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=n.url+"i/l/"+a+"/grid";return e.info(i),t.get(i,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(r).catch(o)}function v(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"creditsdto/m/"+a+"/t/"+r;return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function b(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"impdto/m/"+a+"/t/"+r;return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function y(a,r,o){function i(e){return e.data}function l(t){e.error("Plan Details Fetch Failure: "+t.data)}var d=n.url+"i/m/"+a+"/cc/"+r+"/ct/"+o+"/grid";return e.info(d),t.get(d,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(i).catch(l)}function C(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"pc/o/m/"+a+"/t/"+r+"/grid";return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function T(a){function r(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=n.url+"ps/l/"+a;return e.info(i),t.get(i,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(r).catch(o)}function w(a){function r(e){return e.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}if(null==a.courseType)var i=n.url+"pc/m/"+a.major.id+"/cc/"+a.courseClass.id+"/ct/0";else var i=n.url+"pc/m/"+a.major.id+"/cc/"+a.courseClass.id+"/ct/"+a.courseType.id;return e.info(i),t.get(i).then(r).catch(o)}function j(a,o){function i(e){return r.show(r.simple().content("已保存选课信息").position("bottom right").hideDelay(2e3)),e.data}function l(t){r.show(r.simple().content("操作失败").position("bottom right").hideDelay(2e3)),e.error("Plan Details Fetch Failure: "+t.data)}var d=n.url+"i/l/"+o+"/update";return e.info(d),t({method:"POST",url:d,data:angular.toJson(a,!0),headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(i).catch(l)}function I(a,r){function o(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=n.url+"imp/"+a+"/term/"+r.year+"/"+r.part;return e.info(l),t.post(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function S(a,r){function o(e){return e.data}function i(t){e.error("Imp Details Fetch Failure: "+t.data)}var l=n.url+"i/o/m/"+a+"/t/"+r+"/grid";return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function P(a,r){function o(e){return e.data}function i(t){e.error("Imp Details Fetch Failure: "+t.data)}var l=n.url+"i/e/m/"+a+"/t/"+r+"/grid";return e.info(l),t.get(l,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(o).catch(i)}function k(a){function r(e){return e.data}function o(t){e.error("Imp Fetch Failure: "+t.data)}var i=n.url+"i/"+a;return e.info(i),t.get(i,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(r).catch(o)}function F(a){function r(e){return e.data}function o(t){e.error("Imp Fetch Failure: "+t.data)}var i=n.url+"t/get/"+a;return e.info(i),t.get(i,{header:{"Content-Type":"application/json; charset=UTF-8"}}).then(r).catch(o)}function x(a,r,o){function i(e){return e.data}function l(t){e.error("Imp Fetch Failure: "+t.data)}var d=n.url+"i/create/m/"+o+"/t/"+r;return e.info(d),t({method:"POST",url:d,data:a,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(i).catch(l)}function M(a,r){function o(e){return e.data}function i(t){e.error("Imp Fetch Failure: "+t.data)}var l=n.url+"i/update/t/"+r;return e.info(l),t({method:"POST",url:l,data:a,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(o).catch(i)}function L(a,r){function o(e){return e.data}function i(t){e.error("Imp Fetch Failure: "+t.data)}var l=n.url+"i/update/l/"+r;return e.info(l),t({method:"POST",url:l,data:a,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(o).catch(i)}function $(e,t){var a=n.url+"o/i/m/"+e+"/t/"+t;window.open(a)}var A={getGridPlanSpec:s,getGridPlanCourseOblige:C,getGridImp:S,getGridImpElectable:P,getGridImpByLocatorId:f,getElectableLocatorByMajorAndTerm:u,getGridImpElected:y,getGridPlanSpecByLocatorId:T,getElectableCourses:w,submitElectableCourseData:j,getLocatorByFullParam:h,getOneImp:k,updateOneImp:M,updateTerm:I,getTerm:o,getMajor:c,getExcel:$,searchTeacher:d,searchCourse:m,getCautionOblige:p,getCautionElectable:g,getGridImpResultByMajorIdAndTermCount:v,getGridImpResListByMajorIdAndTermCount:b,updateOneImpByLocatorId:L,getTeacher:F,getExistedInChargeImp:l,newOneImp:x,removeCourse:i};return A}angular.module("app.ui.imp").service("impDataService",e),e.$inject=["$log","$http","API_CONFIG","$cookieStore","$mdToast"]}(),function(){"use strict";function e(e,t,n){e.addPart("app/ui/imp"),t.state("fbsa.ui.imp-page",{url:"/imp",views:{"":{templateUrl:"app/ui/imp/imp-page.tmpl.html",controller:"ImpPageController",controllerAs:"vm"}}}).state("fbsa.ui.imp-selectable-modify-page",{url:"/imp/selectable/modify",views:{"":{templateUrl:"app/ui/imp/imp-selectable-modify-page.tmpl.html",controller:"ImpSelectableModifyPageController",controllerAs:"vm"}}}).state("fbsa.ui.imp-course-modify-page",{url:"/imp/course/modify",views:{"":{templateUrl:"app/ui/imp/imp-course-modify-page.tmpl.html",controller:"ImpCourseModifyPageController",controllerAs:"vm"}}}),n.addMenu({name:"MENU.UI.IMP-MODULE",icon:"zmdi zmdi-calendar-check",type:"dropdown",priority:2.1,children:[{name:"MENU.UI.IMP-PAGE",state:"fbsa.ui.imp-page",type:"link",auth:["admin","resp"]},{name:"MENU.UI.IMP-SELECTABLE-MODIFY-PAGE",state:"fbsa.ui.imp-selectable-modify-page",type:"link",auth:["admin","resp"]},{name:"MENU.UI.IMP-COURSE-MODIFY-PAGE",state:"fbsa.ui.imp-course-modify-page",type:"link",auth:["admin","course"]}]})}angular.module("app.ui.imp").config(e),e.$inject=["$translatePartialLoaderProvider","$stateProvider","triMenuProvider"]}(),function(){"use strict";function e(e,t,n,a,r,o){function i(){n.show({controller:"ImpCourseAddDialogController",controllerAs:"vm",templateUrl:"app/ui/imp/imp-course-add-dialog.tmpl.html",bindToController:!0,preserveScope:!0,locals:{impCourse:void 0,grade:void 0}}).then(function(n){e.updateOneImpByLocatorId(n,F.selectedLocator.id).then(function(e){F.selectedCourse.push(e)}),t.info(n)})}function l(){F.step=0,F.data={},F.electedImps=[],F.selectedLocator=null,F.overrideCredits=!1,F.selectedCourse=[],F.locators=[],F.courses=[],F.selectedType=0,F.selectedClass=0,m()}function d(e){return F.termCount=2*(F.term.year-F.major.grade)+F.term.part,F.selectedCourse=[],F.availableTermYears=[F.major.grade,F.major.grade+1,F.major.grade+2,F.major.grade+3],F.step<=1&&!e&&m(),j().then(function(){v(),I(),t.info("Refreshed View")})}function m(){F.term=e.getTerm(),F.major=e.getMajor(),F.termCount=2*(F.term.year-F.major.grade)+F.term.part,F.availableTermYears=[F.major.grade,F.major.grade+1,F.major.grade+2,F.major.grade+3],F.selectedCourse=[],F.locators=[],S().then(P()).then(function(){T().then(function(){F.selectedLocator=null;for(var e=0;e<F.locators.length;e++)0==F.locators[e].modified&&0!=F.locators[e].creditsNeeded&&(F.selectedLocator=F.locators[e]);null==F.selectedLocator&&(F.selectedLocator=F.locators[0]),w()})})}function c(e){return 2==e?F.overrideCredits?!1:F.selectedLocator.creditsAchieved!=F.selectedLocator.creditsNeeded:1==e?angular.isUndefined(F.selectedLocator):!1}function s(e,t){e.term={},e.term.year=F.term.year,e.term.part=F.term.part,e.term.weeks=F.term.weeks,n.show({controller:"ImpCourseModifyDialogController",controllerAs:"vm",templateUrl:"app/ui/imp/imp-course-modify-dialog.tmpl.html",bindToController:!0,preserveScope:!0,locals:{impCourse:e,grade:F.major.grade},targetEvent:t}).then(function(t){for(var n=F.selectedCourse.length-1;n>=0;n--)if(F.selectedCourse[n].courseId==e.courseId){F.term.year!=e.term.year||F.term.part!=e.term.part?(F.selectedCourse.splice(n,1),F.selectedLocator.creditsAchieved-=e.credits[0]):F.selectedCourse[n]=t;break}})}function u(){F.term=e.getTerm(),F.major=e.getMajor(),F.termCount=2*(F.term.year-F.major.grade)+F.term.part;var t=0;return null!=F.selectedLocator.courseType&&(t=F.selectedLocator.courseType.id),F.selectedLocator.id=null,F.selectedLocator.major=F.major,F.selectedLocator.term=F.term,e.getLocatorByFullParam(F.major.id,F.termCount,F.selectedLocator.courseClass.id,t).then(function(e){F.selectedLocator=e})}function p(e){F.selectedCourse=e;for(var t in e)F.removeCourseFromPlanCourses(e[t])}function g(e){for(var t=F.planCourses.length-1;t>=0;t--)F.planCourses[t].courseId==e.courseId&&F.planCourses.splice(t,1)}function h(e){null!=e&&(t.info(e),0==e.periodWeeks&&(t.info(F.term),e.periodWeeks=F.term.weeks,e.period[0]=parseInt(e.period[0]/e.periodWeeks)),F.selectedLocator.creditsAchieved+=e.credits[0],F.selectedCourse.push(e),F.removeCourseFromPlanCourses(e))}function f(e){for(var t=F.selectedCourse.length-1;t>=0;t--)F.selectedCourse[t].courseId==e.courseId&&(F.selectedCourse.splice(t,1),F.selectedLocator.creditsAchieved-=e.credits[0]);e.period[0]*=e.periodWeeks,F.planCourses.push(e)}function v(){k().then(function(){for(var e in F.electedImps)for(var t=F.planCourses.length-1;t>=0;t--)F.planCourses[t].courseId==F.electedImps[e].courseId&&F.planCourses.splice(t,1)})}function b(e,n,a){t.info(e),0>=e?(d(!1),t.info("reload LOCATOR")):1==e&&(F.selectedLocator=a,d(!0),t.info(" LOCATOR not reloaded"),F.cautions.length<1&&n.nextStep())}function y(){e.submitElectableCourseData(F.selectedCourse,F.selectedLocator.id).then(function(){o.$broadcast("wizardSubmit"),m()})}function C(e,t){var a=n.confirm().title(t.title).content(t.content).ok(t.ok).cancel(t.cancel).targetEvent(e);n.show(a).then(function(){F.dialogValue=!0,F.submitCourseData()})}function T(){return e.getElectableLocatorByMajorAndTerm(F.major.id,F.termCount).then(function(e){F.locators=e})}function w(){return e.getCautionElectable(F.major.id,F.termCount).then(function(e){F.cautions=e})}function j(){return e.getElectableCourses(F.selectedLocator).then(function(e){F.planCourses=e})}function I(){return e.getGridImpByLocatorId(F.selectedLocator.id).then(function(e){F.imps=e,p(e)})}function S(){return e.getGridImpResultByMajorIdAndTermCount(F.major.id,F.termCount).then(function(e){F.creditsDto=e})}function P(){return e.getGridImpResListByMajorIdAndTermCount(F.major.id,F.termCount).then(function(e){F.impResDto=e})}function k(){var t=0;return null!=F.selectedLocator.courseType&&(t=F.selectedLocator.courseType.id),e.getGridImpElected(F.selectedLocator.major.id,F.selectedLocator.courseClass.id,t).then(function(e){F.electedImps=e})}var F=this;F.checkCredits=c,F.submitCourseData=y,F.getImp=I,F.createDialog=C,F.selectCourse=h,F.checkValue=b,F.removeCourse=f,F.modifyImpCourse=s,F.removeCourseFromPlanCourses=g,F.addCourse=i,F.newDialog={title:"请确认",content:"排课学分和培养方案不一致，是否确定排课？",ok:"确定",cancel:"取消"},F.query={order:"courseClass",limit:5,page:1},F.queryMirror={order:"courseClass",limit:5,page:1},l(),a.$on("majorOrTermChanged",function(){u().then(function(){d()})})}angular.module("app.ui.imp").controller("ImpSelectableModifyPageController",e),e.$inject=["impDataService","$log","$mdDialog","$scope","$mdToast","$rootScope"]}(),function(){"use strict";function e(e,t,n,a){function r(){l().then(m()).then(d())}function o(){c.term=e.getTerm(),c.major=e.getMajor(),t.info(c.term),c.termCount=2*(c.term.year-c.major.grade)+c.term.part,r()}function i(e,t){e.term={},e.term.year=c.term.year,e.term.part=c.term.part,e.term.weeks=c.term.weeks,n.show({controller:"ImpCourseModifyDialogController",controllerAs:"vm",templateUrl:"app/ui/imp/imp-course-modify-dialog.tmpl.html",bindToController:!0,locals:{impCourse:e,grade:c.major.grade},targetEvent:t}).finally(function(){o()})}function l(){return e.getGridPlanCourseOblige(c.major.id,c.termCount).then(function(e){c.plans=e})}function d(){return e.getCautionOblige(c.major.id).then(function(e){c.cautions=e})}function m(){return e.getGridImp(c.major.id,c.termCount).then(function(e){c.imps=e})}var c=this;c.columns=[{title:"课程种类",field:"courseClass",sortable:!0},{title:"课程代码",field:"code",sortable:!0},{title:"课程名",field:"title",sortable:!1},{title:"周学时",field:"period",numericArray:0,sortable:!0},{title:"学分",field:"credits",numericArray:0,sortable:!0},{title:"是否学位课",field:"isDegCourse",booleanType:!0,sortable:!0},{title:"考试类型",field:"courseExam",sortable:!0}],c.query={order:"courseClass",limit:20,page:1},c.modifyImpCourse=i,o(),a.$on("majorOrTermChanged",function(){o()})}angular.module("app.ui.imp").controller("ImpPageController",e),e.$inject=["impDataService","$log","$mdDialog","$scope","$mdToast"]}(),function(){"use strict";function e(e,t,n,a,r,o,i){function l(){return e.getExistedInChargeImp(i.teacherId,j.major.id).then(function(e){var t=e;console.log(e);for(var n=j.coursesInCharge.length-1;n>=0;n--){var a=j.coursesInCharge[n].id;null!=t[a]&&(j.coursesInCharge[n].imp=t[a])}})}function d(a,r){r||(a.courseId=a.id),a.id=void 0,a.term={},a.term.year=j.term.year,a.term.part=j.term.part,a.term.weeks=j.term.weeks,t.info(a),n.show({controller:"ImpCourseAddDialogController",controllerAs:"vm",templateUrl:"app/ui/imp/imp-course-add-dialog.tmpl.html",bindToController:!0,preserveScope:!0,locals:{impCourse:a,grade:j.major.grade}}).then(function(t){e.newOneImp(t,t.termCount,j.major.id).then(function(){m()})})}function m(){j.step=0,j.data={},j.electedImps=[],j.selectedLocator=null,j.overrideCredits=!1,j.selectedCourse=[],j.locators=[],j.courses=[],j.selectedType=0,j.selectedClass=0,s()}function c(){j.termCount=2*(j.term.year-j.major.grade)+j.term.part,j.selectedCourse=[],j.availableTermYears=[j.major.grade,j.major.grade+1,j.major.grade+2,j.major.grade+3],s()}function s(){j.term=e.getTerm(),j.major=e.getMajor(),j.termCount=2*(j.term.year-j.major.grade)+j.term.part,j.availableTermYears=[j.major.grade,j.major.grade+1,j.major.grade+2,j.major.grade+3],j.selectedCourse=[],j.locators=[],e.getTeacher(i.teacherId).then(function(e){j.coursesInCharge=e.coursesInCharge,l()})}function u(e){return 2==e?j.overrideCredits?!1:j.selectedLocator.creditsAchieved!=j.selectedLocator.creditsNeeded:1==e?angular.isUndefined(j.selectedLocator):!1}function p(e,t){e.term={},e.term.year=j.term.year,e.term.part=j.term.part,e.term.weeks=j.term.weeks,n.show({controller:"ImpCourseModifyDialogController",controllerAs:"vm",templateUrl:"app/ui/imp/imp-course-modify-dialog.tmpl.html",bindToController:!0,preserveScope:!0,locals:{impCourse:e,grade:j.major.grade},targetEvent:t}).then(function(t){for(var n=j.selectedCourse.length-1;n>=0;n--)if(j.selectedCourse[n].courseId==e.courseId){j.term.year!=e.term.year||j.term.part!=e.term.part?(j.selectedCourse.splice(n,1),j.selectedLocator.creditsAchieved-=e.credits[0]):j.selectedCourse[n]=t;break}m()})}function g(t){e.removeCourse(t.id).then(function(){m()})}function h(e){j.selectedCourse=e;for(var t in e)j.removeCourseFromPlanCourses(e[t])}function f(e){for(var t=j.planCourses.length-1;t>=0;t--)j.planCourses[t].courseId==e.courseId&&j.planCourses.splice(t,1)}function v(e){null!=e&&(t.info(e),0==e.periodWeeks&&(t.info(j.term),e.periodWeeks=j.term.weeks,e.period[0]=parseInt(e.period[0]/e.periodWeeks)),j.selectedLocator.creditsAchieved+=e.credits[0],j.selectedCourse.push(e),j.removeCourseFromPlanCourses(e))}function b(e){for(var t=j.selectedCourse.length-1;t>=0;t--)j.selectedCourse[t].courseId==e.courseId&&(j.selectedCourse.splice(t,1),j.selectedLocator.creditsAchieved-=e.credits[0]);e.period[0]*=e.periodWeeks,j.planCourses.push(e)}function y(e,n,a){t.info(e),0>=e?(c(!1),t.info("reload LOCATOR")):1==e&&(j.selectedLocator=a,c(!0),t.info(" LOCATOR not reloaded"),j.cautions.length<1&&n.nextStep())}function C(){e.submitElectableCourseData(j.selectedCourse,j.selectedLocator.id).then(function(){o.$broadcast("wizardSubmit"),s()})}function T(e,t){var a=n.confirm().title(t.title).content(t.content).ok(t.ok).cancel(t.cancel).targetEvent(e);n.show(a).then(function(){j.dialogValue=!0,j.submitCourseData()})}function w(){return e.getGridImpByLocatorId(j.selectedLocator.id).then(function(e){j.imps=e,h(e)})}var j=this;j.checkCredits=u,j.submitCourseData=C,j.getImp=w,j.createDialog=T,j.selectCourse=v,j.checkValue=y,j.removeCourse=b,j.modifyImpCourse=p,j.removeCourseFromPlanCourses=f,j.addCourse=d,j.removeCourse=g,j.newDialog={title:"请确认",content:"排课学分和培养方案不一致，是否确定排课？",ok:"确定",cancel:"取消"},j.query={order:"courseClass",limit:5,page:1},j.queryMirror={order:"courseClass",limit:5,page:1},m(),a.$on("majorOrTermChanged",function(){c()})}angular.module("app.ui.imp").controller("ImpCourseModifyPageController",e),e.$inject=["impDataService","$log","$mdDialog","$scope","$mdToast","$rootScope","authService"]}(),function(){"use strict";function e(e,t,n,a,r,o){function i(){if(s.teacherChips=[],void 0!==s.impCourse.teacherName)var t=s.impCourse.teacherName.split(",");if(void 0!==s.impCourse.teacherCode)var n=s.impCourse.teacherCode.split(",");if(void 0!==s.impCourse.teacherProTitle)var a=s.impCourse.teacherProTitle.split(",");if(void 0!==t)for(var r=0;r<t.length;r++)""!=t[r]&&s.teacherChips.push({id:s.impCourse.teacherIds[r],name:t[r],code:n[r],title:a[r]});e.info(s.teacherChips)}function l(t){o.searchTeacher(t).then(function(t){s.teacherList=t,e.info(s.teacherList[0]);var n=!1;if(null!=s.teacherList[0]){for(var a=s.teacherChips.length-1;a>=0;a--)if(e.info(s.teacherChips[a].id,s.teacherList[0].id),s.teacherChips[a].id==s.teacherList[0].id){n=!0;break}if(!n){s.teacherChips.push({id:s.teacherList[0].id,name:s.teacherList[0].name,code:s.teacherList[0].idCode,title:s.teacherList[0].proTitle});for(var a=0;a<s.impCourse.teacherIds.length;a++)if(0==s.impCourse.teacherIds[a]){s.impCourse.teacherIds[a]=parseInt(s.teacherList[0].id);break}n=!1}}e.info(s.impCourse.teacherIds)})}function d(t){for(var n=s.teacherChips.length-1;n>=0;n--)s.teacherChips[n].id==t&&(s.teacherChips.splice(n,1),s.impCourse.teacherIds.splice(n,1));e.info(s.impCourse.teacherIds)}function m(){e.info(s.impCourse);var t=2*(parseInt(s.impCourse.term.year)-s.grade)+parseInt(s.impCourse.term.part);e.info(t),s.impCourse.courseExam=1==parseInt(s.impCourse.courseExamId)?"考试":"考查",o.updateOneImp(s.impCourse,t).then(function(e){s.impCourse=e,n.hide(s.impCourse)})}function c(){n.cancel(!0)}var s=this;s.grade=r,s.availableTermYears=[r,r+1,r+2,r+3],s.impCourse=a,s.cancelClick=c,s.okClick=m,s.searchTeacher=l,s.delTeacher=d,i()}angular.module("app.ui.imp").controller("ImpCourseModifyDialogController",e),e.$inject=["$log","$window","$mdDialog","impCourse","grade","impDataService"]}(),function(){"use strict";function e(e,t,n,a,r,o){function i(){s.teacherChips=[]}function l(t){o.searchTeacher(t).then(function(t){s.teacherList=t,e.info(s.teacherList[0]);var n=!1;if(null!=s.teacherList[0]){for(var a=s.teacherChips.length-1;a>=0;a--)if(e.info(s.teacherChips[a].id,s.teacherList[0].id),s.teacherChips[a].id==s.teacherList[0].id){n=!0;break}if(!n&&(s.teacherChips.push({id:s.teacherList[0].id,name:s.teacherList[0].name,code:s.teacherList[0].idCode,title:s.teacherList[0].proTitle}),s.impCourse.teacherIds)){for(var a=0;a<s.impCourse.teacherIds.length;a++)if(0==s.impCourse.teacherIds[a]){s.impCourse.teacherIds[a]=parseInt(s.teacherList[0].id);break}n=!1}}e.info(s.impCourse.teacherIds)})}function d(t){for(var n=s.teacherChips.length-1;n>=0;n--)s.teacherChips[n].id==t&&(s.teacherChips.splice(n,1),s.impCourse.teacherIds.splice(n,1));e.info(s.impCourse.teacherIds)}function m(){void 0!==s.impCourse.term&&(s.impCourse.courseExam=1==parseInt(s.impCourse.courseExamId)?"考试":"考查",s.impCourse.termCount=2*(parseInt(s.impCourse.term.year)-s.grade)+parseInt(s.impCourse.term.part)),n.hide(s.impCourse)}function c(){n.cancel(!0)}var s=this;s.cancelClick=c,s.okClick=m,s.searchTeacher=l,s.delTeacher=d,void 0===a?(s.impCourse={},s.impCourse.credits=[],s.impCourse.period=[],s.impCourse.teacherIds=[0],s.impCourse.customTerm=!1):(s.impCourse=a,void 0===s.impCourse.credits&&(s.impCourse.credits=[]),void 0===s.impCourse.period&&(s.impCourse.period=[]),void 0===s.impCourse.teacherIds&&(s.impCourse.teacherIds=[0]),s.availableTermYears=[r,r+1,r+2,r+3],s.impCourse.customTerm=!0,s.impCourse.courseTypeId||(s.impCourse.courseTypeId=-1)),i()}angular.module("app.ui.imp").controller("ImpCourseAddDialogController",e),e.$inject=["$log","$window","$mdDialog","impCourse","grade","impDataService"]}(),function(){"use strict";function e(e,t,n,a,r,o,i,l,d){function m(){return n.get("term")}function c(){return n.get("major")}function s(n,a){function r(e){return e.data}function i(t){e.error("Plan Details Fetch Failure: "+t.data)}var l=o.url+"i/comment/m/"+n+"/t/"+a;return t({method:"GET",url:l}).then(r).catch(i)}function u(e){t({url:e,responseType:"arraybuffer"}).success(function(e){var t=new d([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});l.saveAs(t,"result.xls")}).error(function(){})}function p(e){var t=o.url+"o/i/m/"+e;u(t)}function g(e,t){var n=o.url+"o/s/term/"+e+"/"+t;u(n)}function h(n,a,r){function i(){e.info(m),u(m)}function l(t){e.error("Plan Details Fetch Failure: "+t.data),u(m)}var d=o.url+"i/comment/m/"+n+"/t/"+a+"/update",m=o.url+"o/i/m/"+n+"/t/"+a;return t({method:"POST",url:d,data:r,headers:{"Content-type":"application/json;charset=UTF-8",Accept:"application/json;charset=UTF-8"}}).then(i).catch(l)}var f={getTerm:m,getMajor:c,downloadImp:h,downloadCredits:p,getComment:s,downloadSalary:g};return f}angular.module("app.ui.export").service("ExportDataService",e),e.$inject=["$log","$http","$cookieStore","$timeout","$rootScope","API_CONFIG","cfpLoadingBar","FileSaver","Blob"]}(),function(){"use strict";function e(e,t,n){e.addPart("app/ui/export"),t.state("fbsa.ui.export-imp",{url:"/export",views:{"":{templateUrl:"app/ui/export/export-page.tmpl.html",controller:"ExportPageController",controllerAs:"vm"}}}),n.addMenu({name:"MENU.UI.EXPORT-MODULE",icon:"zmdi zmdi-download",type:"dropdown",priority:2.1,children:[{name:"MENU.UI.EXPORT-PAGE",state:"fbsa.ui.export-imp",type:"link",auth:["admin","resp"]}]})}angular.module("app.ui.export").config(e),e.$inject=["$translatePartialLoaderProvider","$stateProvider","triMenuProvider"]}(),function(){"use strict";function e(e,t,n,a,r,o,i,l){function d(){p.term=e.getTerm(),p.major=e.getMajor(),p.termCount=2*(p.term.year-p.major.grade)+p.term.part,p.availableTermYears=[p.major.grade,p.major.grade+1,p.major.grade+2,p.major.grade+3],m()}function m(){e.getComment(p.major.id,p.termCount).then(function(e){p.comment=e})}function c(){e.downloadImp(p.major.id,p.termCount,p.comment.comment).then(function(){})}function s(){e.downloadSalary(p.term.year,p.term.part)}function u(){e.downloadCredits(p.major.id)}var p=this;p.downloadImp=c,p.downloadCredits=u,p.downloadSalary=s,p.comment="",p.finance=l.role.finance||l.role.admin,d(),r.$on("majorOrTermChanged",function(){d()})}angular.module("app.ui.export").controller("ExportPageController",e),e.$inject=["ExportDataService","$rootScope","$log","$mdDialog","$scope","$mdToast","API_CONFIG","authService"]}(),function(){"use strict";function e(e,t,n){e.addPart("app/examples/authentication"),t.state("authentication",{"abstract":!0,templateUrl:"app/examples/authentication/layouts/authentication.tmpl.html"}).state("authentication.login",{url:"/login",templateUrl:"app/examples/authentication/login/login.tmpl.html",controller:"LoginController",controllerAs:"vm"}).state("fbsa.ui.pass",{url:"/changepass",templateUrl:"app/examples/authentication/changepass/pass.tmpl.html",controller:"PassController",controllerAs:"vm"}),n.addMenu({name:"MENU.AUTH.AUTH",icon:"zmdi zmdi-account",type:"dropdown",priority:4.1,children:[{name:"MENU.AUTH.LOGIN",state:"authentication.login",type:"link",auth:["admin","teacher","finance","resp","personnel","president","course"]},{name:"MENU.AUTH.PASS",state:"fbsa.ui.pass",type:"link",auth:["admin","teacher","finance","resp","personnel","president","course"]}]})}angular.module("app.examples.authentication").config(e),e.$inject=["$translatePartialLoaderProvider","$stateProvider","triMenuProvider"]}(),function(){"use strict";function e(e,t,n,a){function r(){return n.get("term")}function o(){return n.get("major")}function i(){return n.remove("major")}function l(){return n.remove("term")}function d(n){function r(t){return e.info("Get Plan From API Success"),t.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=a.url+"m/t/"+n;return e.info(i),t.get(i).then(r).catch(o)}function m(){function n(t){return e.info("Get Plan From API Success"),t.data}function r(t){e.error("Plan Details Fetch Failure: "+t.data)}var o=a.url+"m";return e.info(o),t.get(o).then(n).catch(r)}function c(n){function r(t){return e.info("Get Plan From API Success"),t.data}function o(t){e.error("Plan Details Fetch Failure: "+t.data)}var i=a.url+"p/m/"+n;return e.info(i),t.get(i).then(r).catch(o)}function s(t,n){var r=a.url+"i/p/m/"+n;return e.info(r),Upload.upload({url:r,data:{file:t}}).then(function(e){console.log("Success "+e.config.data.file.name+"uploaded. Response: "+e.data)},function(e){console.log("Error status: "+e.status)},function(e){var t=parseInt(100*e.loaded/e.total);console.log("progress: "+t+"% "+e.config.data.file.name)})}function u(t,n){var r=a.url+"i/p/e/m/"+n;return e.info(r),Upload.upload({url:r,data:{file:t}}).then(function(e){console.log("Success "+e.config.data.file.name+"uploaded. Response: "+e.data)},function(e){console.log("Error status: "+e.status)},function(e){var t=parseInt(100*e.loaded/e.total);console.log("progress: "+t+"% "+e.config.data.file.name)})}var p={getDetailedPlan:c,getMajors:d,getAllMajors:m,importPlan:s,getTerm:r,getMajor:o,importPlanElectableCourses:u,deleteMajor:i,deleteTerm:l};return p}angular.module("app.ui.imp").service("appService",e),e.$inject=["$log","$http","$cookieStore","API_CONFIG"]}(),function(){"use strict";angular.module("app.ui",["app.ui.plan","app.ui.imp","app.ui.export","app.ui.merge","app.ui.stat","app.ui.system"])}(),function(){"use strict";
function e(e,t,n,a,r,o,i){function l(){u(),p.auth=i,p.term=i.term,p.major=i.major,p.range=[p.major.grade,p.major.grade+1,p.major.grade+2,p.major.grade+3]}function d(){return 2*(parseInt(p.term.year)-p.major.grade)+parseInt(p.term.part)}function m(){return p.term.year-parseInt(p.major.grade)<=3&&p.term.year-parseInt(p.major.grade)>=0?(p.major.grade=parseInt(p.major.grade),p.term.part=parseInt(p.term.part),p.term.year=parseInt(p.term.year),p.term.weeks=parseInt(p.term.weeks),n.put("term",p.term),n.put("major",p.major),a.$broadcast("majorOrTermChanged"),e.hide(),p.selected):void 0}function c(){e.cancel()}function s(){return 0!=p.teacherId&&i.role.resp?r.getMajors(p.teacherId).then(function(e){p.majorList=e,t.info(p.majorList)}):r.getAllMajors().then(function(e){p.majorList=e,t.info(p.majorList)})}function u(){return o.getId().then(function(e){p.teacherId=e,s(),t.info(p.teacherId)})}var p=this;p.term={},p.major={},p.range=[],p.majorList=[],p.cancelClick=c,p.okClick=m,p.termCount=d,p.teacherId=0,l()}angular.module("app.ui.imp").controller("MajorTermChangeDialogController",e),e.$inject=["$mdDialog","$log","$cookieStore","$rootScope","appService","LoginService","authService"]}(),function(){"use strict";angular.module("app",["fbsa","ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngMaterial","ui.router","pascalprecht.translate","LocalStorageModule","googlechart","chart.js","linkify","ui.calendar","angularMoment","textAngular","uiGmapgoogle-maps","hljs","md.data.table",angularDragula(angular),"ngFileUpload","angular-loading-bar","cfp.loadingBar","ngFileSaver","app.ui","app.examples.authentication"]).constant("APP_LANGUAGES",[{name:"LANGUAGES.CHINESE",key:"zh"}]).constant("BASE_URL","http://localhost:8080").constant("API_CONFIG",{url:"http://saapi.coding.io/api/"}).constant("LOG_CONFIG",{url:"http://saapi.coding.io/log/"}).constant("AUTH_CONFIG",{url:"http://saapi.coding.io/auth/"})}(),function(){"use strict";angular.module("app").value("googleChartApiConfig",{version:"1.1",optionalSettings:{packages:["line","bar","geochart","scatter"],language:"en"}})}(),function(){"use strict";function e(e,t,n){e.useLoader("$translatePartialLoader",{urlTemplate:"{part}/i18n/{lang}.json"}),t.addPart("app"),e.useSanitizeValueStrategy("sanitize"),e.useLoaderCache(!0);for(var a=[],r=n.length-1;r>=0;r--)a.push(n[r].key);e.registerAvailableLanguageKeys(a,{zh_cn:"zh"}).use("zh"),e.useLocalStorage()}angular.module("app").config(e),e.$inject=["$translateProvider","$translatePartialLoaderProvider","APP_LANGUAGES"]}(),function(){"use strict";function e(e,t){e.state("404",{url:"/404",templateUrl:"404.tmpl.html",controllerAs:"vm",controller:["$state",function(e){var t=this;t.goHome=function(){e.go("authentication.login")}}]}).state("500",{url:"/500",templateUrl:"500.tmpl.html",controllerAs:"vm",controller:["$state",function(e){var t=this;t.goHome=function(){e.go("authentication.login")}}]}),t.when("","/login"),t.when("/","/login"),t.otherwise("/404")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"]}(),function(){"use strict";function e(e){e.includeSpinner=!0,e.includeBar=!0}angular.module("app").config(e),e.$inject=["cfpLoadingBarProvider"]}(),function(){"use strict";function e(e,t,n){e.definePalette("white",{50:"ffffff",100:"ffffff",200:"ffffff",300:"ffffff",400:"ffffff",500:"ffffff",600:"ffffff",700:"ffffff",800:"ffffff",900:"ffffff",A100:"ffffff",A200:"ffffff",A400:"ffffff",A700:"ffffff",contrastDefaultColor:"dark"}),e.definePalette("black",{50:"e1e1e1",100:"b6b6b6",200:"8c8c8c",300:"646464",400:"3a3a3a",500:"e1e1e1",600:"e1e1e1",700:"232323",800:"1a1a1a",900:"121212",A100:"3a3a3a",A200:"ffffff",A400:"ffffff",A700:"ffffff",contrastDefaultColor:"light"});var a=e.extendPalette("cyan",{contrastDefaultColor:"light",contrastLightColors:"500 700 800 900",contrastStrongLightColors:"500 700 800 900"});e.definePalette("triCyan",a),t.theme("cyan").primaryPalette("triCyan").accentPalette("amber").warnPalette("deep-orange"),t.theme("white-cyan").primaryPalette("white").accentPalette("cyan",{"default":"500"}).warnPalette("deep-orange"),n.skin("cyan-cloud","Cyan Cloud").sidebarTheme("cyan").toolbarTheme("white-cyan").logoTheme("cyan").contentTheme("cyan"),t.theme("red").primaryPalette("red",{"default":"800"}).accentPalette("amber").warnPalette("purple"),t.theme("white-red").primaryPalette("white").accentPalette("red",{"default":"500"}).warnPalette("purple"),n.skin("red-dwarf","Red Dwarf").sidebarTheme("red").toolbarTheme("white-red").logoTheme("red").contentTheme("red"),t.theme("purple").primaryPalette("purple").accentPalette("deep-orange").warnPalette("amber"),t.theme("white-purple").primaryPalette("white").accentPalette("purple",{"default":"400"}).warnPalette("deep-orange"),n.skin("plumb-purple","Plumb Purple").sidebarTheme("purple").toolbarTheme("white-purple").logoTheme("purple").contentTheme("purple"),t.theme("dark").primaryPalette("black",{"default":"300"}).accentPalette("amber").warnPalette("deep-orange").backgroundPalette("black").dark(),n.skin("dark-knight","Dark Knight").sidebarTheme("dark").toolbarTheme("dark").logoTheme("dark").contentTheme("dark"),t.theme("blue-grey").primaryPalette("blue-grey").accentPalette("amber").warnPalette("orange"),t.theme("white-blue-grey").primaryPalette("white").accentPalette("blue-grey",{"default":"400"}).warnPalette("orange"),n.skin("battleship-grey","Battleship Grey").sidebarTheme("blue-grey").toolbarTheme("white-blue-grey").logoTheme("blue-grey").contentTheme("blue-grey"),t.theme("orange").primaryPalette("orange",{"default":"800"}).accentPalette("lime").warnPalette("amber"),t.theme("white-orange").primaryPalette("white").accentPalette("orange",{"default":"500"}).warnPalette("lime"),n.skin("zesty-orange","Zesty Orange").sidebarTheme("orange").toolbarTheme("white-orange").logoTheme("orange").contentTheme("orange"),t.theme("indigo").primaryPalette("indigo",{"default":"600"}).accentPalette("red").warnPalette("lime"),n.skin("indigo-island","Indigo Island").sidebarTheme("indigo").toolbarTheme("indigo").logoTheme("indigo").contentTheme("indigo"),t.theme("light-green").primaryPalette("light-green",{"default":"400"}).accentPalette("amber").warnPalette("deep-orange"),t.theme("white-light-green").primaryPalette("white").accentPalette("light-green",{"default":"400"}).warnPalette("deep-orange"),n.skin("kermit-green","Kermit Green").sidebarTheme("light-green").toolbarTheme("white-light-green").logoTheme("light-green").contentTheme("light-green"),t.theme("blue").primaryPalette("blue",{"default":"700"}).accentPalette("light-blue",{"default":"400"}).warnPalette("blue-grey"),t.theme("white-blue-grey").primaryPalette("white").accentPalette("blue-grey",{"default":"400"}).warnPalette("orange"),n.skin("blue-fbsa","Blue-FBSA").sidebarTheme("blue").toolbarTheme("white-blue-grey").logoTheme("blue").contentTheme("blue"),n.useSkinCookie(!1),n.setSkin("blue-fbsa")}angular.module("app").config(e),e.$inject=["$mdThemingProvider","triThemingProvider","triSkinsProvider"]}(),function(){"use strict";function e(e,t){e.setName("商学院排课系统"),e.setLogo("assets/images/logo.png"),e.setVersion("0.3");for(var n=t.length-1;n>=0;n--)e.addLanguage({name:t[n].name,key:t[n].key})}angular.module("app").config(e),e.$inject=["triSettingsProvider","APP_LANGUAGES"]}(),function(){"use strict";function e(e){e.setDefaultOption("toolbarSize","default"),e.setDefaultOption("toolbarShrink",!0),e.setDefaultOption("toolbarClass",""),e.setDefaultOption("contentClass",""),e.setDefaultOption("sideMenuSize","full"),e.setDefaultOption("showToolbar",!0),e.setDefaultOption("footer",!0)}angular.module("app").config(e),e.$inject=["triLayoutProvider"]}(),function(){"use strict";function e(e){e.setOptions({colours:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0"],responsive:!0})}angular.module("app").config(e),e.$inject=["ChartJsProvider"]}(),angular.module("app").run(["$templateCache",function(e){e.put("app/ui/major-term-change-dialog.tmpl.html",'<md-dialog flex="60" flex-sm="100">\n    <md-toolbar class="toolbar-default">\n        <div class="md-toolbar-tools">\n            <h2 flex translate>更改学期和专业</h2>\n            <md-button class="md-icon-button" ng-click="vm.cancelClick()" aria-label="cancel">\n                <md-icon md-font-icon="zmdi zmdi-close"></md-icon>\n            </md-button>\n        </div>\n    </md-toolbar>\n\n    <md-dialog-content class="sticky-container">\n\n        <div layout="column" layout-padding layout-margin>\n            <h1 class="md-title">\n                {{vm.major.grade}}级{{vm.major.majorType.title}}专业\n               <span ng-if="!vm.auth.role[\'course\']"> 第{{vm.termCount()}}学期</span>\n</h1>\n            <div layout="row">\n            <tri-widget flex="50" layout-margin ng-if="!vm.auth.role[\'course\']">\n                <md-toolbar class="toolbar-default">\n                    <div class="md-toolbar-tools">\n                        <h4 flex>选择学年</h4>\n                    </div>\n                </md-toolbar>\n                <div layout="row" layout-padding>\n            <md-radio-group placeholder="选择学年" ng-model="vm.term.year" flex="50">\n                <md-radio-button ng-value="vm.major.grade">{{vm.major.grade}}学年度</md-radio-button>\n                <md-radio-button ng-value="vm.major.grade+1">{{vm.major.grade+1}}学年度</md-radio-button>\n                <md-radio-button ng-value="vm.major.grade+2">{{vm.major.grade+2}}学年度</md-radio-button>\n                <md-radio-button ng-value="vm.major.grade+3">{{vm.major.grade+3}}学年度</md-radio-button>\n            </md-radio-group>\n\n            <md-radio-group placeholder="选择学期" ng-model="vm.term.part" flex="50">\n                <md-radio-button value=1>第一学期</md-radio-button>\n                <md-radio-button value=2>第二学期</md-radio-button>\n            </md-radio-group>\n                </div>\n            </tri-widget>\n\n            <tri-widget flex="{{vm.auth.role[\'course\'] ? 100 : 50}}" layout-margin>\n                <md-toolbar class="toolbar-default">\n                    <div class="md-toolbar-tools">\n                        <h4 flex>选择专业</h4>\n                    </div>\n                </md-toolbar>\n            <md-input-container style="margin-bottom:0px;height:30px">\n                <label>搜索(年级或专业)</label>\n                <input ng-model="mtFilter">\n            </md-input-container>\n            <md-radio-group placeholder="选择专业" ng-model="vm.major" flex  layout-padding layout-margin>\n                <md-radio-button ng-repeat="major in vm.majorList | filter: mtFilter" ng-value="major">{{major.grade}}级{{major.majorType.title}}</md-radio-button>\n            </md-radio-group>\n            </tri-widget>\n            </div>\n        </div>\n    </md-dialog-content>\n\n    <div class="md-actions" layout="row">\n        <md-button ng-click="vm.cancelClick()">取消</md-button>\n        <md-button ng-click="vm.okClick()" class="md-primary">确认</md-button>\n    </div>\n</md-dialog>\n'),e.put("app/ui/export/export-page.tmpl.html",'<div layout="row" layout-margin>\n    <tri-widget>\n        <md-toolbar class="md-accent">\n            <div flex class="md-toolbar-tools">\n                <h2 flex>\n                    <span>导出教学执行计划</span>\n                </h2>\n                <div flex-offset="33">\n                    <md-button ng-click="vm.downloadImp()" class="md-primary md-raised md-fab md-mini" aria-label="download">\n                        <md-icon md-font-icon class="zmdi zmdi-download""}"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n\n\n        <md-input-container class="md-block">\n            <label>添加备注</label>\n            <textarea ng-model="vm.comment.comment" columns="1" md-maxlength="150" rows="5"></textarea>\n        </md-input-container>\n</tri-widget>\n\n    <tri-widget>\n        <md-toolbar class="md-accent">\n            <div class="md-toolbar-tools">\n                <h2 flex>\n                    <span>导出学分调整表</span>\n                </h2>\n                <div flex-offset="33">\n                    <md-button ng-click="vm.downloadCredits()"class="md-primary md-raised md-fab md-mini" aria-label="download">\n                        <md-icon md-font-icon class="zmdi zmdi-download""}"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n\n        <md-list>\n            <md-list-item >年级：{{vm.major.grade}}</md-list-item>\n            <md-list-item>专业：{{vm.major.majorType.title}}</md-list-item>\n        </md-list>\n    </tri-widget>\n\n\n</div>\n'),e.put("app/ui/imp/imp-course-add-dialog.tmpl.html",'<md-dialog class="order-dialog mobile-fullwidth-dialog" flex="60" flex-sm="100">\n    <md-toolbar>\n        <div class="md-toolbar-tools">\n            <h2 flex >\n                <span>添加课程</span>\n            </h2>\n            <md-button class="md-icon-button" ng-click="vm.cancelClick()" aria-label="cancel">\n                <md-icon md-font-icon="zmdi zmdi-close"></md-icon>\n            </md-button>\n        </div>\n    </md-toolbar>\n\n    <md-dialog-content class="padding-20">\n        <div flex layout="row" class="margin-bottom-10">\n            <div flex>\n                <strong>课程代码</strong>\n            </div>\n            <md-input-container flex style="margin:0px">\n                <input ng-model="vm.impCourse.code">\n            </md-input-container>\n        </div>\n        <div flex layout="row" class="margin-bottom-10">\n            <div flex>\n                <strong>课程名</strong>\n            </div>\n            <md-input-container flex style="margin:0px">\n                <input ng-model="vm.impCourse.title">\n            </md-input-container>\n        </div>\n        <div flex layout="row" class="margin-bottom-10">\n            <div flex>\n                <strong>学分</strong>\n            </div>\n            <md-input-container flex style="margin:0px">\n                <input type="number" ng-disabled="!vm.impCourse.customTerm && vm.impCourse.courseClass.indexOf(\'必修\') > -1" ng-model="vm.impCourse.credits[0]">\n            </md-input-container>\n        </div>\n        <md-divider></md-divider>\n        <p></p>\n\n        <div flex layout="row" class="margin-bottom-10">\n            <md-input-container flex="50">\n                <label>周学时</label>\n                <input type="number" ng-model="vm.impCourse.period[0]">\n            </md-input-container>\n            <md-input-container flex="50">\n                <label>教学周数</label>\n                <input ng-model="vm.impCourse.periodWeeks">\n            </md-input-container>\n        </div>\n\n        <div flex layout="row">\n            <div flex="50">\n                <label>考核方式：</label>\n                <div layout="row" layout-sm="column">\n                    <md-radio-group ng-model="vm.impCourse.courseExamId">\n                        <md-radio-button value=1>考试</md-radio-button>\n                        <md-radio-button value=2>考查</md-radio-button>\n                    </md-radio-group>\n                </div>\n            </div>\n            <div flex="50">\n                <label>是否学位课：</label>\n                <div layout="row" layout-sm="column">\n                    <md-radio-group ng-model="vm.impCourse.isDegCourse">\n                        <md-radio-button ng-value=1>是</md-radio-button>\n                        <md-radio-button ng-value=0>否</md-radio-button>\n                    </md-radio-group>\n                </div>\n            </div>\n        </div>\n\n\n        <div flex layout="row">\n            <div flex="50" ng-if="vm.impCourse.customTerm">\n                <label>开设学期：</label>\n                <div layout="row" layout-sm="column">\n                    <md-radio-group placeholder="选择学年" ng-model="vm.impCourse.term.year">\n                        <md-radio-button ng-repeat="year in vm.availableTermYears" ng-value="year">{{year}}-{{year+1}}</md-radio-button>\n                    </md-radio-group>\n                    <md-radio-group placeholder="选择学期" ng-model="vm.impCourse.term.part">\n                        <md-radio-button value=1>第一学期</md-radio-button>\n                        <md-radio-button value=2>第二学期</md-radio-button>\n                    </md-radio-group>\n                </div>\n            </div>\n            <div flex="50" ng-if="vm.impCourse.customTerm">\n                <label>课程分类：</label>\n                <div layout="row" layout-sm="column">\n                    <md-radio-group ng-model="vm.impCourse.courseClassId">\n                        <md-radio-button ng-value="1">公共必修课</md-radio-button>\n                        <md-radio-button ng-value="2">专业必修课</md-radio-button>\n                        <md-radio-button ng-value="3">限定选修课</md-radio-button>\n                        <md-radio-button ng-value="4">任意选修课</md-radio-button>\n                    </md-radio-group>\n                    <md-radio-group ng-if="vm.impCourse.courseTypeId !== -1 || vm.impCourse.courseClassId == 3" ng-model="vm.impCourse.courseTypeId">\n                        <md-radio-button ng-value="-1">无</md-radio-button>\n                        <md-radio-button ng-value="3">综合素质类课程</md-radio-button>\n                        <md-radio-button ng-value="4">学院素质教育课程</md-radio-button>\n                        <md-radio-button ng-value="5">创新创业教育课程</md-radio-button>\n                        <md-radio-button ng-value="6">专业限定选修课</md-radio-button>\n                    </md-radio-group>\n                </div>\n            </div>\n        </div>\n        <md-divider></md-divider>\n\n        <label>教师：\n\n        </label>\n        <div>\n            <label ng-repeat="teacher in vm.teacherChips">\n                {{teacher.name}} {{teacher.code}} {{teacher.title}}\n                    <md-button ng-click="vm.delTeacher(teacher.id)" class="md-icon-button" aria-label="fab button">\n                        <md-icon md-font-icon="zmdi zmdi-close"></md-icon>\n                    </md-button>\n            </label>\n        </div>\n        <div flex layout="row">\n            <md-input-container>\n                <label>姓名</label>\n                <input ng-model="vm.demandedTeacherName">\n            </md-input-container>\n            <md-button ng-click="vm.searchTeacher(vm.demandedTeacherName)">\n                搜索\n            </md-button>\n        </div>\n        <md-divider></md-divider>\n        <md-input-container flex>\n            <label>备注信息</label>\n            <textarea name="commentBody" ng-model="vm.impCourse.comment" columns="1" md-maxlength="150" rows="5"></textarea>\n        </md-input-container>\n    </md-dialog-content>\n\n    <div class="md-actions" layout="row">\n        <span flex></span>\n        <md-button ng-click="vm.okClick()" class="md-primary" aria-label="确定">确认添加</md-button>\n        <md-button ng-click="vm.cancelClick()" aria-label="确定">放弃添加</md-button>\n    </div>\n</md-dialog>\n'),e.put("app/ui/imp/imp-course-modify-dialog.tmpl.html",'<md-dialog class="order-dialog mobile-fullwidth-dialog" flex="60" flex-sm="100">\n    <md-toolbar>\n        <div class="md-toolbar-tools">\n            <h2 flex >\n                <span>{{vm.impCourse.title}} 排课信息编辑</span>\n            </h2>\n            <md-button class="md-icon-button" ng-click="vm.cancelClick()" aria-label="cancel">\n                <md-icon md-font-icon="zmdi zmdi-close"></md-icon>\n            </md-button>\n        </div>\n    </md-toolbar>\n\n    <md-dialog-content class="padding-20">\n        <div flex layout="row" class="margin-bottom-10">\n            <div flex>\n                <strong>课程代码</strong>\n            </div>\n            <div flex>\n                <span>{{vm.impCourse.code}}</span>\n            </div>\n        </div>\n        <div flex layout="row" class="margin-bottom-10">\n            <div flex>\n                <strong>课程类型</strong>\n            </div>\n            <div flex>\n                <span>{{vm.impCourse.courseClass}}</span>\n            </div>\n        </div>\n        <div flex layout="row" class="margin-bottom-10">\n            <div flex>\n                <strong>学分</strong>\n            </div>\n            <md-input-container flex style="margin:0px">\n                <input ng-disabled="vm.impCourse.courseClass.indexOf(\'必修\') > -1" ng-model="vm.impCourse.credits[0]">\n            </md-input-container>\n        </div>\n        <div flex layout="row" class="margin-bottom-10">\n            <div flex>\n                <strong>是否学位课：</strong>\n            </div>\n            <div flex>\n                <span>{{vm.impCourse.isDegCourse ? \'是\' : \'否\'}}</span>\n            </div>\n        </div>\n        <md-divider></md-divider>\n        <p></p>\n\n        <div flex layout="row" class="margin-bottom-10">\n            <md-input-container flex="50">\n                <label>周学时</label>\n                <input ng-model="vm.impCourse.period[0]">\n            </md-input-container>\n            <md-input-container flex="50">\n                <label>教学周数</label>\n                <input ng-model="vm.impCourse.periodWeeks">\n            </md-input-container>\n        </div>\n\n        <div flex layout="row">\n            <div flex="50">\n              <label>开设学期：</label>\n              <div layout="row" layout-sm="column">\n                  <md-radio-group placeholder="选择学年" ng-model="vm.impCourse.term.year">\n                      <md-radio-button ng-repeat="year in vm.availableTermYears" ng-value="year">{{year}}-{{year+1}}</md-radio-button>\n                  </md-radio-group>\n                  <md-radio-group placeholder="选择学期" ng-model="vm.impCourse.term.part">\n                        <md-radio-button value=1>第一学期</md-radio-button>\n                        <md-radio-button value=2>第二学期</md-radio-button>\n                  </md-radio-group>\n                </div>\n            </div>\n            <div flex="50">\n                <label>考核方式：</label>\n                <div layout="row" layout-sm="column">\n                    <md-radio-group ng-model="vm.impCourse.courseExamId">\n                        <md-radio-button value=1>考试</md-radio-button>\n                        <md-radio-button value=2>考查</md-radio-button>\n                    </md-radio-group>\n                </div>\n            </div>\n        </div>\n        <md-divider></md-divider>\n\n        <label>教师：\n\n        </label>\n        <div>\n            <label ng-repeat="teacher in vm.teacherChips">\n                {{teacher.name}} {{teacher.code}} {{teacher.title}}\n                    <md-button ng-click="vm.delTeacher(teacher.id)" class="md-icon-button" aria-label="fab button">\n                        <md-icon md-font-icon="zmdi zmdi-close"></md-icon>\n                    </md-button>\n            </label>\n        </div>\n        <div flex layout="row">\n            <md-input-container>\n                <label>姓名</label>\n                <input ng-model="vm.demandedTeacherName">\n            </md-input-container>\n            <md-button ng-click="vm.searchTeacher(vm.demandedTeacherName)">\n                搜索\n            </md-button>\n        </div>\n        <md-divider></md-divider>\n        <md-input-container flex>\n            <label>备注信息</label>\n            <textarea name="commentBody" ng-model="vm.impCourse.comment" columns="1" md-maxlength="150" rows="5"></textarea>\n        </md-input-container>\n    </md-dialog-content>\n\n    <div class="md-actions" layout="row">\n        <span flex></span>\n        <md-button ng-click="vm.okClick()" class="md-primary" aria-label="确定">确认修改</md-button>\n        <md-button ng-click="vm.cancelClick()" aria-label="确定">放弃修改</md-button>\n    </div>\n</md-dialog>\n'),e.put("app/ui/imp/imp-course-modify-page.tmpl.html",'<div layout="row" layout-align="center" layout-wrap >\n    <div flex="100" ng-if="c.imp != null" ng-repeat="c in vm.coursesInCharge" >\n    <md-card layout="column" layout-align="center center">\n        <md-toolbar layout="row" layout-align="center" display="center">\n            <h2 style="padding-left:5px" flex="70">{{c.code}} {{c.title}}</h2>\n            <div flex="20"></div>\n           <md-button class="md-accent md-raised" style="height:20px" ng-click="vm.addCourse(c.imp[0],true);" >添加课程</md-button>\n\n        </md-toolbar>\n        <div style="margin: 10px;width:97%">\n                <md-data-table-container>\n                    <table md-data-table class="md-data-table">\n                        <thead md-order="vm.query.order">\n                        <tr>\n                            <th name="开设学期"></th>\n                            <th name="考核方式"></th>\n                            <th name="学分" order-by="credits"></th>\n                            <th name="周学时" order-by="period"></th>\n                            <th name="教学周"></th>\n                            <th name="教师"></th>\n                            <th name="修改"></th>\n                            <th name="删除"></th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr ng-repeat="course in c.imp | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit">\n                            <td>第{{course.termCount}}学期</td>\n\n                            <td>{{course.courseExam}}</td>\n                            <td>{{course.credits[0]}}</td>\n                            <td>{{course.period[0]}}</td>\n                            <td>{{course.periodWeeks}}</td>\n\n                            <td>{{course.teacherName == null ? \'无\' : course.teacherName}} {{course.teacherProTitle}}</td>\n                            <td>\n                                <md-button ng-click="vm.modifyImpCourse(course)" class="md-icon-button" aria-label="Open Order">\n                                    修改\n                                </md-button>\n                            </td>\n                            <td>\n                                <md-button ng-click="vm.removeCourse(course)" class="md-icon-button" aria-label="Open Order">\n                                    移除\n                                </md-button>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n\n                </md-data-table-container>\n\n\n        </div>\n\n    </md-card>\n    </div>\n\n</div>\n<div layout="row" layout-align="center" layout-wrap >\n\n<div flex="33" ng-if="c.imp == null" ng-repeat="c in vm.coursesInCharge" >\n    <md-card layout="row" layout-align="center center">\n        <h4 style="padding-left:5px" flex="70">{{c.code}} {{c.title}}</h4>\n        <div flex="1"></div>\n        <md-button class="md-accent md-raised" ng-click="vm.addCourse(c,false);" >添加课程</md-button>\n\n    </md-card>\n</div>\n</div>\n'),e.put("app/ui/imp/imp-page.tmpl.html",'<div layout="row" layout-sm="column" layout-margin dragula=\'"drag-analytics-container"\' flex>\n    <tri-widget palette-background="blue:800" content-layout="column" content-layout-align="space-between center" content-padding>\n        <p ng-show="vm.cautions.length < 1">无提示信息</p>\n        <p class="md-body-2 margin-top-0 margin-bottom-10" ng-repeat="caution in vm.cautions">{{caution}}</p>\n    </tri-widget>\n</div>\n\n<div layout="row" layout-sm="column" layout-margin>\n\n  <tri-widget content-layout="column" content-layout-align="center" flex title="培养方案细则">\n      <tri-table class="elements-image-table-example" refresh="vm.refresh" columns="vm.columns" contents="vm.plans" page-size="10"></tri-table>\n  </tri-widget>\n</div>\n\n<div layout="row" layout-sm="column" layout-margin>\n\n    <tri-widget content-layout="column" content-layout-align="center" flex>\n          <md-toolbar>\n              <div class="md-toolbar-tools">\n                  <h2>\n                      执行计划\n                  </h2>\n              </div>\n          </md-toolbar>\n          <md-data-table-container >\n              <table md-data-table class="md-data-table" md-progress="vm.deferred">\n                  <thead md-order="vm.query.order">\n                      <tr>\n                          <th name="课程种类" order-by="courseClass" decend-first></th>\n                          <th name="课程代码" order-by="code"></th>\n                          <th name="课程名"></th>\n                          <th name="教学周数" order-by="status"></th>\n                          <th name="周学时" order-by="status"></th>\n                          <th name="学分" order-by="credits"></th>\n                          <th name="教师信息" order-by="credits"></th>\n                          <th name="是否学位课" order-by="credits"></th>\n                          <th name="考试类型" order-by="credits"></th>\n                          <th name="调整"></th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr ng-repeat="imp in vm.imps | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit">\n                          <td>{{::imp.courseClass}}</td>\n                          <td>{{::imp.code}}</td>\n                          <td>{{::imp.title}}</td>\n                          <td>{{::imp.periodWeeks}}周</td>\n                          <td>{{::imp.period[0]}}</td>\n                          <td>{{::imp.credits[0]}}</td>\n                          <td>{{::imp.teacherName}}</td>\n                          <td>{{::imp.isDegCourse == 1 ?\'是\':\'否\'}}</td>\n                          <td>{{::imp.courseExam}}</td>\n\n                          <td>\n                              <md-button ng-click="vm.modifyImpCourse(imp, $event)" class="md-icon-button" aria-label="Open Order">\n                                 调整\n                              </md-button>\n                          </td>\n                      </tr>\n                  </tbody>\n              </table>\n          </md-data-table-container>\n          <md-data-table-pagination md-limit="vm.query.limit" md-page="vm.query.page" md-total="{{vm.imps.length}}"></md-data-table-pagination>\n  </tri-widget>\n</div>\n'),e.put("app/ui/imp/imp-selectable-modify-page.tmpl.html",'<div layout="column" layout-align="center center">\n\n    <div layout="row" layout-align="center center">\n        <p flex="150"  flex-sm="90" class="md-headline"></p>\n    </div>\n\n    <div flex layout="row" layout-align="center center" layout-fill>\n        <div flex="90" class="md-whiteframe-z1 margin-bottom-100" tri-wizard>\n            <md-toolbar class="md-primary">\n                <div class="md-toolbar-tools" layout="row" layout-align="space-between center">\n                    <h2>选修课排课向导</h2><h2></h2>\n                    <h2 ng-show="triWizard.currentStep==2">已选课程:{{vm.selectedCourse.length}} | 需要学分：{{vm.selectedLocator.creditsAchieved}}/{{vm.selectedLocator.creditsNeeded}}</h2>\n                </div>\n                <md-progress-linear class="md-accent padding-bottom-10" md-mode="determinate"></md-progress-linear>\n            </md-toolbar>\n            <md-tabs class="md-primary" layout-fill md-selected="triWizard.currentStep" md-dynamic-height md-stretch-tabs="always">\n                <md-tab id="account" ng-click="vm.checkValue(triWizard.currentStep,triWizard);">\n                    <md-tab-label>\n                        <span class="oxy-step-label">1</span>\n                        <span translate>选择课程类型</span>\n                    </md-tab-label>\n                    <md-tab-body>\n                            <form layout-padding name="locatorForm" tri-wizard-form novalidate>\n                                <div layout="column">\n                                        <md-list-item class="md-2-line" ng-repeat="locator in vm.locators" ng-show="locator.creditsNeeded || locator.creditsAchieved" ng-value="locator" ng-click="triWizard.nextStep();vm.checkValue(triWizard.currentStep,triWizard,locator);vm.step=vm.step+1;">\n                                            <md-button class="md-raised md-accent">选择课程</md-button>\n                                      <!--\n                                            {{locator.courseClass.title}} {{locator.courseType.title ? \'- \' + locator.courseType.title : null}} {{locator.creditsAchieved +\'/\'+ locator.creditsNeeded}} <!--{{locator.modified ? \'已修改\' :\'\'}}-->\n\n                                            <div class="md-list-item-text">\n                                                <h3> {{locator.courseType.title ? locator.courseType.title : locator.courseClass.title}} {{locator.creditsAchieved +\'/\'+ locator.creditsNeeded}}</h3>\n                                                <p> {{locator.courseType.title ? locator.courseClass.title : null}}  </p>\n                                            </div>\n\n                                        </md-list-item>\n                                </div>\n                                <div ng-if="vm.termCount === 3 || vm.termCount === 4" layout="column">\n                                    <md-list-item class="md-2-line" ng-disabled="true" ng-click="triWizard.nextStep();vm.checkValue(triWizard.currentStep,triWizard,locator);vm.step=vm.step+1;">\n                                        <md-button ng-disabled="true" class="md-raised md-accent">选择课程</md-button>\n                                        <!--\n                                              {{locator.courseClass.title}} {{locator.courseType.title ? \'- \' + locator.courseType.title : null}} {{locator.creditsAchieved +\'/\'+ locator.creditsNeeded}} <!--{{locator.modified ? \'已修改\' :\'\'}}-->\n\n                                        <div class="md-list-item-text">\n                                            <h3> 综合素质类课程 2学分</h3>\n                                            <p> 本系统内不可选  </p>\n                                        </div>\n\n                                    </md-list-item>\n                                </div>\n                                <md-divider></md-divider>\n                                <md-button ng-click="vm.overrideLocator=!vm.overrideLocator" class="md-primary">{{vm.overrideLocator ? \'-\' : \'+\'}} 选修课程调整</md-button>\n\n                                <div ng-show="vm.overrideLocator" layout="column">\n                                    <md-list-item class="md-2-line" ng-repeat="locator in vm.locators" ng-show="!locator.creditsNeeded && !locator.creditsAchieved" ng-value="locator" ng-click="triWizard.nextStep();vm.checkValue(triWizard.currentStep,triWizard,locator);vm.step=vm.step+1;">\n                                            <md-button class="md-raised md-accent">开设并选择课程</md-button>\n\n                                            <div class="md-list-item-text">\n                                            <h3> {{locator.courseType.title ? locator.courseType.title : locator.courseClass.title}} {{locator.creditsAchieved +\'/\'+ locator.creditsNeeded}}</h3>\n                                            <p> {{locator.courseType.title ? locator.courseClass.title : null}}  </p>\n                                        </div>\n                                    </md-list-item>\n                                </div>\n\n\n\n                                                            </form>\n                      </md-tab-body>\n                                                </md-tab>\n                                                <md-tab id="caution" ng-click="vm.checkValue(triWizard.currentStep,triWizard);" ng-disabled="locatorForm.$invalid">\n                                                    <md-tab-label>\n                                                        <span class="oxy-step-label">2</span>\n                                                        <span>提示信息</span>\n                                                    </md-tab-label>\n                                                    <md-tab-body>\n                                                            <form name="cautionForm" tri-wizard-form>\n                                                                <div layout="column" flex>\n                                                                    <div layout="row" layout-sm="column" layout-margin dragula=\'"drag-analytics-container"\' flex>\n                                                                        <tri-widget palette-background="blue:800" content-layout="column" content-layout-align="space-between center" content-padding>\n                                                                            <p ng-show="vm.cautions.length < 1">无提示信息</p>\n                                                                            <p class="md-body-2 margin-top-0 margin-bottom-10" ng-repeat="caution in vm.cautions">{{caution}}</p>\n                                                                        </tri-widget>\n                                                                    </div>\n                                                                </div>\n                                                            </form>\n                                                    </md-tab-body>\n\n                                                </md-tab>\n                                                <md-tab id="impSA" ng-disabled="cautionForm.$invalid;triWizard.currentStep < 2">\n                                                    <md-tab-label>\n                                                        <span class="oxy-step-label">3</span>\n                                                        <span>修改排课</span>\n                                                    </md-tab-label>\n                                                    <md-tab-body>\n                                                            <form name="impSAForm" tri-wizard-form>\n\n                                                                <md-card>\n                                                                    <md-toolbar>\n                                                                        <div class="md-toolbar-tools" layout="row" layout-align="space-between center">\n                                                                            <h2>\n                                                                                待选课程列表\n                                                                            </h2>\n                                                                            <h2>\n                                                                                {{vm.selectedLocator.courseClass.title}} {{vm.selectedLocator.courseType.title == null ? \'\' : \'-\' + vm.selectedLocator.courseType.title}}\n                                                                            </h2>\n                                                                        </div>\n                                                                    </md-toolbar>\n                                                                        <md-data-table-container>\n                                                                        <table md-data-table class="md-data-table">\n                                                                            <thead md-order="vm.query.order">\n                                                                            <tr>\n                                                                                <th name="课程代码" order-by="code"></th>\n                                                                                <th name="课程名"></th>\n                                                                                <th name="考核方式"></th>\n                                                                                <th name="学分" order-by="credits"></th>\n                                                                                <th name="总学时" order-by="period"></th>\n                                                                                <th name="添加"></th>\n                                                                            </tr>\n                                                                            </thead>\n                                                                            <tbody>\n                                                                            <tr ng-repeat="course in vm.planCourses | orderBy: vm.queryMirror.order | limitTo: vm.queryMirror.limit : (vm.queryMirror.page -1) * vm.queryMirror.limit">\n                                                                                <td>{{course.code}}</td>\n                                                                                <td>{{course.title}}</td>\n                                                                                <td>{{course.courseExam}}</td>\n                                                                                <td>{{course.credits[0]}}</td>\n                                                                                <td>{{course.period[0]}}</td>\n                                                                                <td>\n                                                                                    <md-button ng-click="vm.selectCourse(course)" class="md-icon-button" aria-label="Open Order">\n                                                                                        添加\n                                                                                    </md-button>\n                                                                                </td>\n                                                                            </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                            <md-data-table-pagination md-limit="vm.queryMirror.limit" md-page="vm.queryMirror.page" md-total="{{vm.planCourses.length}}"></md-data-table-pagination>\n\n                                                                        </md-data-table-container>\n                                                                </md-card>\n\n                                                                <md-card>\n                                                                    <md-toolbar>\n                                                                        <div class="md-toolbar-tools" layout="row" layout-align="space-between center">\n                                                                            <h2>\n                                                                                已选课程列表\n                                                                            </h2>\n                                                                            <h2>\n                                                                                {{vm.selectedLocator.courseClass.title}}{{vm.selectedLocator.courseType.title == null ? \'\' : \'-\' + vm.selectedLocator.courseType.title}}\n                                                                            </h2>\n                                                                        </div>\n                                                                    </md-toolbar>\n                                                                    <md-data-table-container>\n                                                                        <table md-data-table class="md-data-table">\n                                                                            <thead md-order="vm.query.order">\n                                                                            <tr>\n                                                                                <th name="课程代码" order-by="code"></th>\n                                                                                <th name="课程名"></th>\n                                                                                <th name="考核方式"></th>\n                                                                                <th name="学分" order-by="credits"></th>\n                                                                                <th name="周学时" order-by="period"></th>\n                                                                                <th name="教学周"></th>\n                                                                                <th name="教师"></th>\n                                                                                <th name="修改"></th>\n                                                                                <th name="删除"></th>\n                                                                            </tr>\n                                                                            </thead>\n                                                                            <tbody>\n                                                                            <tr ng-repeat="course in vm.selectedCourse | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit">\n                                                                                <td>{{course.code}}{{course.isDegCourse ? \'*\' : \'\'}}</td>\n                                                                                <td>{{course.title}}</td>\n                                                                                <td>{{course.courseExam}}</td>\n                                                                                <td>{{course.credits[0]}}</td>\n                                                                                <td>{{course.period[0]}}</td>\n                                                                                <td>{{course.periodWeeks}}</td>\n\n                                                                                <td>{{course.teacherName == null ? \'无\' : course.teacherName}} {{course.teacherProTitle}}</td>\n                                                                                <td>\n                                                                                    <md-button ng-click="vm.modifyImpCourse(course)" class="md-icon-button" aria-label="Open Order">\n                                                                                        修改\n                                                                                    </md-button>\n                                                                                </td>\n                                                                                <td>\n                                                                                    <md-button ng-click="vm.removeCourse(course)" class="md-icon-button" aria-label="Open Order">\n                                                                                        移除\n                                                                                    </md-button>\n                                                                                </td>\n                                                                            </tr>\n                                                                            </tbody>\n                                                                        </table>\n                                                                        <md-data-table-pagination md-limit="vm.query.limit" md-page="vm.query.page" md-total="{{vm.selectedCourse.length}}"></md-data-table-pagination>\n\n                                                                    </md-data-table-container>\n                                                                </md-card>\n                            </form>\n                            <p></p>\n\n                    </md-tab-body>\n                </md-tab>\n            </md-tabs>\n            <div class="wizard-navbar" layout-fill layout-padding layout="row" layout-align="end center">\n                <!--<md-switch ng-show="triWizard.currentStep == 2" ng-model="vm.overrideCredits" ng-disabled = "vm.selectedLocator.creditsAchieved == vm.selectedLocator.creditsNeeded">确认排课学分与培养方案不一致</md-switch>-->\n                <!--<md-button class="md-primary md-raised" ng-click="triWizard.prevStep();vm.step=vm.step-1;vm.checkValue(triWizard.currentStep,triWizard);" ng-hide="triWizard.currentStep > -1" ng-disabled="triWizard.prevStepDisabled();">上一步</md-button>-->\n                <md-button class="md-primary md-raised"\n                           ng-click="\n                            triWizard.nextStep();\n                            vm.checkValue(triWizard.currentStep,triWizard);\n                            vm.step=vm.step+1;"\n                           ng-hide="\n                            triWizard.currentStep >= 2 ||\n                            triWizard.currentStep == 0"\n                           ng-disabled="\n                            triWizard.nextStepDisabled();\n                            vm.checkCredits(triWizard.currentStep);\n\n                           ">\n                    下一步\n                </md-button>\n                <md-button class="md-accent md-raised" ng-click="vm.addCourse();" ng-show="triWizard.currentStep == 2">添加课程</md-button>\n\n                <md-button class="md-accent md-raised" ng-click="(vm.checkCredits(triWizard.currentStep))?vm.createDialog($event, vm.newDialog) : (vm.submitCourseData())+(triWizard.firstStep())+(vm.checkValue(triWizard.currentStep,triWizard))+(vm.step=0); " ng-show="triWizard.currentStep == 2">确认</md-button>\n                <md-button class="md-primary md-raised" ng-click="triWizard.firstStep();vm.step=vm.step-2;vm.checkValue(triWizard.currentStep,triWizard);" ng-hide="triWizard.currentStep < 2">取消</md-button>\n            </div>\n        </div>\n    </div>\n\n</div>\n'),e.put("app/ui/merge/merge-inspect-page.tmpl.html",'            <div layout="row" layout-wrap layout-padding layout-margin>\n            <div ng-if="!mergeImp.imps[0].merged" layout="row" flex="100" ng-repeat="mergeImp in vm.mergeImps" layout-padding>\n                <div class="md-whiteframe-1dp" flex>\n\n                <div>\n                    <h2 class="md-toolbar-tools">{{mergeImp.teacherName}}</h2>\n                </div>\n\n                <div ng-repeat="imp in mergeImp.imps"  layout-padding>\n                    <div layout="row" layout-align="space-between center" class="md-no-sticky">\n                        <h4>{{::imp[0].course.title}} {{::imp[0].mergedClass.status===0 ? \'院长未确认\' : \'院长已确认\'}}</h4>\n                        <h4>\n                            {{::imp[0].locator.term.year}}学年度\n                            第{{::imp[0].locator.term.part}}学期</h4>\n                        <div></div>\n                        <div>\n                        <md-button class="md-primary md-raised" ng-click="imp.merged = true;vm.deMerge(imp)">撤回合并</md-button>\n                        </div>\n                    </div>\n                        <div ng-repeat="impEntities in imp track by impEntities.id" layout="row" layout-align="center center">\n                            <label flex class="md-secondary" ng-model = "impEntities.selected">\n                                {{::impEntities.locator.major.grade}}级\n\n                                {{::impEntities.locator.major.majorType.title }}\n                                {{::impEntities.locator.major.population }}人\n\n                                {{::impEntities.locator.courseClass.title }}\n                                {{::impEntities.periodWeeks }}学分\n                                {{::impEntities.periodHours }}学时\n                            </label>\n                            <label flex>\n                                备注：{{::impEntities.mergeComment}}\n                            </label>\n\n\n                        </div>\n                        <md-divider ng-if="!$last"></md-divider>\n\n                </div>\n                </div>\n            </div>\n            </div>\n\n'),e.put("app/ui/merge/merge-page.tmpl.html",'            <div layout="row" layout-wrap layout-padding layout-margin>\n            <div layout="row" flex="100" ng-repeat="mergeImp in vm.mergeImps track by mergeImp.teacherId" layout-padding>\n                <div class="md-whiteframe-1dp" flex>\n                <div>\n                    <h2 class="md-toolbar-tools">{{mergeImp.teacherName}}</h2>\n                </div>\n\n                <div ng-if="!imp.merged" ng-repeat="imp in mergeImp.imps track by imp[0].id"  layout-padding>\n                    <div layout="row" layout-align="space-between center" class="md-no-sticky">\n                        <h4>{{::imp[0].course.title}} {{vm.impPopulation(imp) ? \'已选\' + vm.impPopulation(imp)+\'人\' : \'\'}}</h4>\n                        <div></div>\n                        <md-button ng-disabled="!vm.showButton(imp)" class="md-primary md-raised" ng-click="imp.merged = true;vm.merge(imp)">合并</md-button>\n                    </div>\n                        <div ng-repeat="impEntities in imp track by impEntities.id" layout="row" layout-align="center center">\n                            <md-checkbox flex class="md-secondary" ng-model = "impEntities.selected">\n                                {{::impEntities.locator.major.grade}}级\n\n                                {{::impEntities.locator.major.majorType.title }}\n                                {{::impEntities.locator.major.population }}人\n\n                                {{::impEntities.locator.courseClass.title }}\n                                {{::impEntities.periodWeeks }}学分\n                         {{::impEntities.periodHours }}学时\n                            </md-checkbox>\n                            <md-input-container flex>\n                                <input type="text" ng-model="impEntities.mergeComment" ng-disabled="!impEntities.selected" placeholder="备注"/>\n                            </md-input-container>\n\n\n                        </div>\n                        <md-divider ng-if="!$last"></md-divider>\n\n                </div>\n                </div>\n            </div>\n            </div>\n\n'),e.put("app/ui/merge/merge-validation-page.tmpl.html",'            <div layout="row" layout-wrap layout-padding layout-margin>\n            <div layout="row" flex="100" ng-repeat="mergeImp in vm.mergeImps" layout-padding>\n                <div ng-if="!mergeImp.imps[0].merged" class="md-whiteframe-1dp" flex>\n                <div>\n                    <h2 class="md-toolbar-tools">{{mergeImp.teacherName}}</h2>\n                </div>\n\n                <div ng-repeat="imp in mergeImp.imps track by imp[0].id"  layout-padding>\n                    <div layout="row" layout-align="space-between center" class="md-no-sticky">\n                        <h4>{{::imp[0].course.title}}</h4>\n                        <div></div>\n                        <div>\n                            <md-button class="md-primary md-raised" ng-click="imp.merged = true;vm.merge(imp)">确认合并</md-button>\n                            <md-button class="md-primary md-raised" ng-click="imp.merged = true;vm.deMerge(imp)">拒绝合并</md-button>\n                        </div>\n                    </div>\n                        <div ng-repeat="impEntities in imp track by impEntities.id" layout="row" layout-align="center center">\n                            <label flex class="md-secondary" ng-model = "impEntities.selected">\n                                {{::impEntities.locator.major.majorType.title }}\n                                {{::impEntities.locator.major.population }}人\n\n                                {{::impEntities.locator.courseClass.title }}\n                                {{::impEntities.periodWeeks }}学分\n                                {{::impEntities.periodHours }}学时\n                            </label>\n                            <label flex>\n                                备注：{{::impEntities.mergeComment}}\n                            </label>\n\n\n                        </div>\n                        <md-divider ng-if="!$last"></md-divider>\n\n                </div>\n                </div>\n            </div>\n            </div>\n\n'),e.put("app/ui/plan/plan-import.tmpl.html",'<div layout="row" layout-sm="column" layout-margin>\n\n    <tri-widget flex>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>上传培养方案</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ngf-select="vm.upload($files)" ng-disabled="vm.status != \'idle\'" ngf-multiple="true" aria-label="upload">\n                        <md-icon md-font-icon ng-class="{ \'zmdi zmdi-cloud-upload\': vm.status == \'idle\', \'fa fa-spinner fa-pulse\': vm.status == \'uploading\', \'zmdi zmdi-check\': vm.status == \'complete\'}"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <md-content>\n            <md-list>\n                <md-list-item >年级：{{vm.major.grade}}</md-list-item>\n                <md-list-item>专业：{{vm.major.majorType.title}}</md-list-item>\n                仅支持xls格式文档，不支持xlsx格式文档\n            </md-list>\n        </md-content>\n    </tri-widget>\n\n    <tri-widget flex>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>上传选修课</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ngf-select="vm.uploadElectable($files)" ng-disabled="vm.status != \'idle\'" ngf-multiple="true" aria-label="upload">\n                        <md-icon md-font-icon ng-class="{ \'zmdi zmdi-cloud-upload\': vm.status == \'idle\', \'fa fa-spinner fa-pulse\': vm.status == \'uploading\', \'zmdi zmdi-check\': vm.status == \'complete\'}"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n    <md-content>\n\n        <md-list>\n            <md-list-item >年级：{{vm.major.grade}}</md-list-item>\n            <md-list-item>专业：{{vm.major.majorType.title}}</md-list-item>\n            仅支持doc格式文档，不支持docx格式文档\n        </md-list>\n    </md-content>\n    </tri-widget>\n    <!--\n    <tri-widget flex>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>录入专业类型</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.createMajorType()" ng-disabled="vm.status != \'idle\'" aria-label="submit">\n                        <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <div>\n            <md-input-container>\n                <label>专业名</label>\n                <input ng-model="vm.newMajorType.title">\n            </md-input-container>\n            <md-input-container>\n                <label>专业代码</label>\n                <input ng-model="vm.newMajorType.majorCode">\n            </md-input-container>\n        </div>\n        </tri-widget>\n    <tri-widget flex>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>专业数据初始化</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.createMajor()" ng-disabled="vm.status != \'idle\'" aria-label="submit">\n                        <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <div>\n            <md-input-container>\n                <label>年级</label>\n                <input ng-model="vm.newMajor.grade">\n            </md-input-container>\n            <md-input-container>\n                <label>专业</label>\n                <md-select ng-model="vm.newMajor.majorType">\n                    <md-option ng-repeat="majorType in vm.majorTypeList" ng-value="majorType">{{majorType.title}} - {{majorType.majorCode}}</md-option>\n                </md-select>\n            </md-input-container>\n            <md-input-container>\n                <label>人数</label>\n                <input ng-model="vm.newMajor.population">\n            </md-input-container>\n        </div>\n    </tri-widget>\n\n    <tri-widget flex>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>专业信息维护</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.modifyMajor()" ng-disabled="vm.status != \'idle\'" aria-label="submit">\n                        <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <div>\n            <md-input-container>\n                <label>专业</label>\n                <md-select ng-model="vm.newMajorUpdate">\n                    <md-option ng-repeat="major in vm.majorList track by major.id" ng-value="major">{{major.grade}}级 {{major.majorType.title}}</md-option>\n                </md-select>\n            </md-input-container>\n            <md-input-container>\n                <label>人数</label>\n                <input ng-model="vm.newMajorUpdate.population">\n            </md-input-container>\n            <label>校区</label>\n            <md-radio-group ng-model="vm.newMajorUpdate.suburb">\n                <md-radio-button value="1">奉贤</md-radio-button>\n                <md-radio-button value="0">徐汇</md-radio-button>\n            </md-radio-group>\n        </div>\n    </tri-widget>\n\n    <tri-widget flex>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>删除专业</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.deleteMajor()" ng-disabled="vm.status != \'idle\'" aria-label="submit">\n                        <md-icon md-font-icon class="zmdi zmdi-delete"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <md-content layout-margin>\n            <div>\n                <md-select ng-model="vm.delMajor">\n                    <md-option ng-repeat="major in vm.majorList" ng-value="major.id">\n                        {{major.grade}}级\n                        {{major.majorType.title}}\n                    </md-option>\n                </md-select>\n            </div>\n        </md-content>\n    </tri-widget>\n    -->\n</div>\n'),e.put("app/ui/plan/plan-page.tmpl.html",'<div layout="row" layout-sm="column" layout-margin>\n\n  <tri-widget content-layout="column" content-layout-align="center" flex title="培养方案细则">\n      <tri-table class="elements-image-table-example" refresh="vm.refresh" columns="vm.columns" contents="vm.plans" page-size="10"></tri-table>\n  </tri-widget>\n\n</div>\n\n<!--\n<div layout="row" layout-sm="column" layout-margin>\n    <div layout="row" layout-sm="column" layout-margin>\n        <tri-widget>\n            <md-toolbar>\n                <div class="md-toolbar-tools">\n                    <h2>\n                        执行计划\n                    </h2>\n                    <span flex></span>\n                    <md-menu>\n                        <md-button class="md-icon-button" aria-label="open menu" ng-click="$mdOpenMenu()">\n                            <md-icon md-font-icon="zmdi zmdi-more-vert"></md-icon>\n                        </md-button>\n\n                        <md-menu-content width="3">\n                            <md-menu-item>\n                                <md-button ng-click="$mdCloseMenu">\n                                    <md-icon md-font-icon="zmdi zmdi-settings"></md-icon>\n                                    Settings\n                                </md-button>\n                            </md-menu-item>\n                            <md-menu-item>\n                                <md-button ng-click="$mdCloseMenu">\n                                    <md-icon md-font-icon="zmdi zmdi-account"></md-icon>\n                                    Profile\n                                </md-button>\n                            </md-menu-item>\n                            <md-menu-divider></md-menu-divider>\n                            <md-menu-item>\n                                <md-button ng-click="$mdCloseMenu">\n                                    <md-icon md-font-icon="zmdi zmdi-sign-in"></md-icon>\n                                    Log out\n                                </md-button>\n                            </md-menu-item>\n                        </md-menu-content>\n\n                    </md-menu>\n                </div>\n            </md-toolbar>\n            <md-data-table-container>\n                <table md-data-table class="md-data-table" md-progress="vm.deferred">\n                    <thead md-order="vm.query.order">\n                    <tr>\n                        <th name="课程种类" order-by="courseClass" decend-first></th>\n                        <th name="课程代码" order-by="code"></th>\n                        <th name="课程"></th>\n                        <th name="学时I"></th>\n                        <th name="学分I"></th>\n                        <th name="学时II"></th>\n                        <th name="学分II"></th>\n                        <th name="学时III"></th>\n                        <th name="学分III"></th>\n                        <th name="学时IV"></th>\n                        <th name="学分IV"></th>\n                        <th name="学时V"></th>\n                        <th name="学分V"></th>\n                        <th name="学时VI"></th>\n                        <th name="学分VI"></th>\n                        <th name="学时VII"></th>\n                        <th name="学分VII"></th>\n                        <th name="学时VIII"></th>\n                        <th name="学分VIII" ></th>\n                        <th name="总学分" order-by="credits"></th>\n                        <th name="总学时" order-by="period"></th>\n                        <th name="考核方式" ></th>\n\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr ng-repeat="plan in vm.plans | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit">\n                        <td>{{::plan.courseClass}}</td>\n                        <td>{{::plan.code}}</td>\n                        <td>{{::plan.title}}</td>\n                        <td>{{::plan.period[0]}}</td>\n                        <td>{{::plan.credits[0]}}</td>\n                        <td>{{::plan.period[1]}}</td>\n                        <td>{{::plan.credits[1]}}</td>\n                        <td>{{::plan.period[2]}}</td>\n                        <td>{{::plan.credits[2]}}</td>\n                        <td>{{::plan.period[3]}}</td>\n                        <td>{{::plan.credits[3]}}</td>\n                        <td>{{::plan.period[4]}}</td>\n                        <td>{{::plan.credits[4]}}</td>\n                        <td>{{::plan.period[5]}}</td>\n                        <td>{{::plan.credits[5]}}</td>\n                        <td>{{::plan.period[6]}}</td>\n                        <td>{{::plan.credits[6]}}</td>\n                        <td>{{::plan.period[7]}}</td>\n                        <td>{{::plan.credits[7]}}</td>\n                        <td>{{::plan.period[7]}}</td>\n                        <td>{{::plan.credits[7]}}</td>\n                        <td>{{::plan.courseExam}}</td>\n                        <td>\n                            <md-button ng-click="vm.modifyImpCourse(plan.id, $event)" class="md-icon-button" aria-label="Open Order">\n                                <md-icon md-font-icon="zmdi zmdi-search"></md-icon>\n                            </md-button>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </md-data-table-container>\n            <md-data-table-pagination md-limit="vm.query.limit" md-page="vm.query.page" md-total="{{vm.imps.length}}"></md-data-table-pagination>\n        </tri-widget>\n\n    </div>\n\n</div>\n-->\n'),e.put("app/ui/stat/stat-page-correction.tmpl.html",'<div layout="column" layout-margin>\n\n    <tri-widget content-layout="column" content-layout-align="center" flex>\n        <md-toolbar>\n            <div class="md-toolbar-tools">\n                <h2>\n                    被拒课程审核\n                </h2>\n            </div>\n        </md-toolbar>\n\n        <md-data-table-container >\n            <table md-data-table class="md-data-table" md-progress="vm.deferred">\n                <thead md-order="vm.query.order">\n                <tr>\n                    <th name="课程类型"></th>\n                    <th name="学生层次"></th>\n                    <th name="年级专业"></th>\n                    <th name="课程名称"></th>\n                    <th name="周学时（财务）" ></th>\n                    <th name="周学时（专业负责人）" ></th>\n                    <th name="学生人数"></th>\n                    <th name="教师"></th>\n                    <th name="拒绝原因"></th>\n                    <th name="更改课程"></th>\n\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="e in vm.entities | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit">\n                    <td>{{e.salary.courseType}}</td>\n                    <td>{{e.salary.majorType}}</td>\n                    <td>{{e.salary.majorTitle}}</td>\n                    <td>{{e.salary.courseTitle}}</td>\n                    <td>{{e.salary.periodHours}}小时</td>\n                    <td>{{e.course.periodHours}}小时</td>\n                    <td>{{e.salary.majorPopulation}}人</td>\n                    <td>{{e.course.teacherName}}</td>\n                    <td>{{e.salary.rejectComment}}</td>\n\n\n                    <td>\n                        <md-button ng-click="vm.modifyImpCourse(e)" aria-label="Open Order">\n                            <md-icon md-font-icon="zmdi zmdi-edit"></md-icon>\n                        </md-button>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </md-data-table-container>\n        <md-data-table-pagination md-limit="vm.query.limit" md-page="vm.query.page" md-total="{{vm.entities.length}}"></md-data-table-pagination>\n    </tri-widget>\n</div>\n'),e.put("app/ui/stat/stat-page-modify.tmpl.html",'<div layout="column" layout-margin>\n\n    <tri-widget>\n        <md-toolbar>\n            <div class="md-toolbar-tools">\n                <h2 flex >\n                    <span>搜索教师</span>\n                </h2>\n            </div>\n        </md-toolbar>\n        <div layout="row">\n            <md-input-container>\n                <label>姓名</label>\n                <input size="36" ng-model="vm.demandedTeacherName">\n            </md-input-container>\n            <md-button ng-click="vm.searchTeacher(vm.demandedTeacherName)">\n                搜索\n            </md-button>\n        </div>\n    </tri-widget>\n\n\n    <tri-widget>\n        <md-toolbar>\n            <div class="md-toolbar-tools" layout="row" layout-align="center">\n                <h2 flex=30">\n                    工作量维护\n\n                </h2>\n\n                <div flex="40" layout="row">\n\n                    <md-select ng-model="vm.term.year">\n                        <md-option ng-value="2014">2014-2015学年</md-option>\n                        <md-option ng-value="2015">2015-2016学年</md-option>\n                        <md-option ng-value="2016">2016-2017学年</md-option>\n                        <md-option ng-value="2017">2017-2018学年</md-option>\n                        <md-option ng-value="2018">2018-2019学年</md-option>\n                        <md-option ng-value="2019">2019-2010学年</md-option>\n                    </md-select>\n\n                    <md-select ng-model="vm.term.part">\n                        <md-option ng-value="1">第一学期</md-option>\n                        <md-option ng-value="2">第二学期</md-option>\n                    </md-select>\n                </div>\n                <div flex="20" layout="row"></div>\n\n                <md-button ng-click="vm.modifySalaryEntity()" aria-label="Open Order" flex>\n                    <md-icon md-font-icon="zmdi zmdi-edit"></md-icon>\n                    提交更改\n                </md-button>\n                <md-button ng-click="vm.downloadSalary()" aria-label="Open Order" flex>\n                    <md-icon md-font-icon="zmdi zmdi-edit"></md-icon>\n                    导出工作量\n                </md-button>\n            </div>\n        </md-toolbar>\n        <div layout="row" layout-sm="column" flex>\n            <tri-widget palette-background="blue:900" content-layout="row" content-layout-align="space-between center" content-padding>\n                <p>教师：{{vm.salaryStats[0].teacher}}</p>\n                <p>\n                    <label flex>系科：</label>\n                    <input ng-model="vm.salaryStats[0].departmentType" size="10">\n                </p>\n                <p content-layout="column" content-layout-align="space-between center">\n                <label flex>单课时费：</label>\n                    <input ng-model="vm.salaryStats[0].salaryPerHour" size="4">\n                </p>\n                <p content-layout="column" content-layout-align="space-between center">\n                    <label flex>扣基本课时费：</label>\n                    <input ng-model="vm.salaryStats[1].basicSalaryDeduction" size="4">\n                </p>\n                <p>\n                    <label flex>学期课时费总计：{{vm.salaryStats[0].termSalary}}</label>\n                </p>\n            </tri-widget>\n        </div>\n\n        <md-data-table-container>\n            <table md-data-table class="md-data-table" md-progress="vm.deferred">\n                <thead md-order="vm.query.order">\n                <tr>\n                    <th name="课程类型"></th>\n                    <th name="学生层次"></th>\n                    <th name="年级专业"></th>\n                    <th name="课程名称"></th>\n                    <th name="周学时" ></th>\n                    <th name="学生人数"></th>\n                    <th name="校区"></th>\n                    <th name="研究生系数"></th>\n                    <th name="留学生系数"></th>\n                    <th name="汉语系数"></th>\n                    <th name="全外语系数"></th>\n                    <th name="人数系数"></th>\n                    <th name="郊县补贴"></th>\n                    <th name="首课补贴"></th>\n                    <th name="学期课时费"></th>\n                    <th name="月小计"></th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="s in vm.salary | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit">\n                    <td>{{::s.courseType}}</td>\n                    <td>{{::s.majorType}}</td>\n                    <td>{{::s.majorTitle}}</td>\n                    <td>{{::s.courseTitle}}</td>\n                    <td>\n                        <input ng-model="s.periodHours" size="4">\n                    </td>\n                    <td>\n                        <input ng-model="s.majorPopulation" size="4">\n                    </td>\n                    <td><md-select ng-model="s.location">\n                        <md-option ng-value="\'徐汇\'">徐汇</md-option>\n                        <md-option ng-value="\'奉贤\'">奉贤</md-option>\n\n                    </md-select>\n                    </td>\n                    <td>\n                        <input ng-model="s.underGraduateFactor" size="4">\n                    </td>\n                    <td>\n                        <input ng-model="s.overseaStudentFactor" size="4">\n                    </td>\n                    <td><input ng-model="s.hanFactor" size="4"></td>\n                    <td><input ng-model="s.foreignLanguageFactor" size="4"></td>\n                    <td><input ng-model="s.populationFactor" size="4"></td>\n                    <td><input ng-model="s.suburbAllowance" size="4"></td>\n                    <td><input ng-model="s.firstCourseAllowance" size="4"></td>\n                    <td>{{(s.monthlySalary * 5).toFixed(2)}}</td>\n                    <td><input ng-model="s.monthlySalary" size="4"></td>\n                </tr>\n                </tbody>\n            </table>\n        </md-data-table-container>\n        <md-data-table-pagination md-limit="vm.query.limit" md-page="vm.query.page" md-total="{{vm.salary.length}}"></md-data-table-pagination>\n    </tri-widget>\n\n\n    <tri-widget>\n        <md-toolbar>\n            <div class="md-toolbar-tools">\n                <h2 flex >\n                    <span>导入数据</span>\n                </h2>\n            </div>\n        </md-toolbar>\n        <div layout="column">\n            <div layout="row"><label>研究生课程</label>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ngf-select="vm.upload($files,2)" ng-disabled="vm.status != \'idle\'" ngf-multiple="true" aria-label="upload">\n                        <md-icon md-font-icon ng-class="{ \'zmdi zmdi-cloud-upload\': vm.status == \'idle\', \'fa fa-spinner fa-pulse\': vm.status == \'uploading\', \'zmdi zmdi-check\': vm.status == \'complete\'}"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n            <div layout="row"><label>专科课程</label>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ngf-select="vm.upload($files,3)" ng-disabled="vm.status != \'idle\'" ngf-multiple="true" aria-label="upload">\n                        <md-icon md-font-icon ng-class="{ \'zmdi zmdi-cloud-upload\': vm.status == \'idle\', \'fa fa-spinner fa-pulse\': vm.status == \'uploading\', \'zmdi zmdi-check\': vm.status == \'complete\'}"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </div>\n    </tri-widget>\n\n</div>\n'),e.put("app/ui/stat/stat-page.tmpl.html",'<div layout="column" layout-margin>\n    <tri-widget ng-if="vm.responsable">\n        <md-toolbar>\n            <div class="md-toolbar-tools">\n                <h2 flex >\n                    <span>查看教师工作量</span>\n                </h2>\n            </div>\n        </md-toolbar>\n        <div layout="row">\n            <md-input-container>\n                <label>姓名</label>\n                <input size="36" ng-model="vm.demandedTeacherName">\n            </md-input-container>\n            <md-button ng-click="vm.searchTeacher(vm.demandedTeacherName)">\n                搜索\n            </md-button>\n        </div>\n    </tri-widget>\n\n    <tri-widget content-layout="column" content-layout-align="center" flex>\n        <md-toolbar>\n            <div class="md-toolbar-tools">\n                <h2>\n                    工作量明细\n                </h2>\n\n                <md-select ng-model="vm.term.year" style="margin-left:10px" >\n                    <md-option ng-value="2014">2014-2015学年</md-option>\n                    <md-option ng-value="2015">2015-2016学年</md-option>\n                    <md-option ng-value="2016">2016-2017学年</md-option>\n                    <md-option ng-value="2017">2017-2018学年</md-option>\n                    <md-option ng-value="2018">2018-2019学年</md-option>\n                    <md-option ng-value="2019">2019-2010学年</md-option>\n                </md-select>\n\n                    <md-select ng-model="vm.term.part">\n                        <md-option ng-value="1">第一学期</md-option>\n                        <md-option ng-value="2">第二学期</md-option>\n                    </md-select>\n            </div>\n        </md-toolbar>\n        <div layout="row" layout-sm="column" flex>\n            <tri-widget palette-background="blue:900" content-layout="row" content-layout-align="space-between center" content-padding>\n                <p>教师：{{vm.salaryStats[0].teacher}}</p>\n                <p>系科：{{vm.salaryStats[0].departmentType}}</p>\n                <p>单课时费：{{vm.salaryStats[0].salaryPerHour}}元</p>\n                <p>扣基本课时费：{{vm.salaryStats[1].termSalary}}元</p>\n                <p>学期课时费总计：{{vm.salaryStats[0].termSalary}}元 （每月取整{{vm.salaryStats[0].monthlySalaryRound}}元）</p>\n            </tri-widget>\n        </div>\n\n        <md-data-table-container >\n            <table md-data-table class="md-data-table" md-progress="vm.deferred">\n                <thead md-order="vm.query.order">\n                <tr>\n                    <th name="课程类型"></th>\n                    <th name="学生层次"></th>\n                    <th name="年级专业"></th>\n                    <th name="课程名称"></th>\n                    <th name="周学时" ></th>\n                    <th name="学生人数"></th>\n                    <th name="校区"></th>\n                    <th name="研究生系数" ng-if="vm.isSelf"></th>\n                    <th name="留学生系数" ng-if="vm.isSelf"></th>\n                    <th name="汉语系数" ng-if="vm.isSelf"></th>\n                    <th name="全外语系数" ng-if="vm.isSelf"></th>\n                    <th name="人数系数" ng-if="vm.isSelf"></th>\n                    <th name="郊县补贴" ng-if="vm.isSelf"></th>\n                    <th name="首课补贴" ng-if="vm.isSelf"></th>\n                    <th name="学期课时费" ng-if="vm.isSelf"></th>\n                    <th name="月小计取整" ng-if="vm.isSelf"></th>\n                    <th name="接受/拒绝" ng-if="vm.isSelf"></th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="s in vm.salary | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit">\n                    <td>{{s.courseType}}</td>\n                    <td>{{s.majorType}}</td>\n                    <td>{{s.majorTitle}}</td>\n                    <td>{{s.courseTitle}}</td>\n                    <td>{{s.periodHours}}小时</td>\n                    <td>{{s.majorPopulation}}人</td>\n                    <td>{{s.location}}</td>\n                    <td ng-if="vm.isSelf">{{s.underGraduateFactor}}</td>\n                    <td ng-if="vm.isSelf">{{s.overseaStudentFactor}}</td>\n                    <td ng-if="vm.isSelf">{{s.hanFactor}}</td>\n                    <td ng-if="vm.isSelf">{{s.foreignLanguageFactor}}</td>\n                    <td ng-if="vm.isSelf"> {{s.populationFactor}}</td>\n                    <td ng-if="vm.isSelf">{{s.suburbAllowance}}元</td>\n                    <td ng-if="vm.isSelf">{{s.firstCourseAllowance}}元</td>\n                    <td ng-if="vm.isSelf">{{s.termSalary}}元</td>\n                    <td ng-if="vm.isSelf">{{s.monthlySalaryRound}}元</td>\n\n                    <td ng-if="vm.isSelf">\n                        <md-select ng-model="s.rejected">\n                            <md-option ng-value="1" ng-click="vm.rejectSalaryEntity(s)">拒绝</md-option>\n                            <md-option ng-value="0" ng-click="vm.cancelRejectSalaryEntity(s)">接受</md-option>\n                        </md-select>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </md-data-table-container>\n        <md-data-table-pagination md-limit="vm.query.limit" md-page="vm.query.page" md-total="{{vm.salary.length}}"></md-data-table-pagination>\n    </tri-widget>\n\n    <tri-widget content-layout="column" flex>\n        <md-toolbar content-layout-align="space-between center" >\n            <div class="md-toolbar-tools">\n                <h2 flex="80">\n                    申报文修/副修课程\n                </h2>\n                <div flex="10"></div>\n                <md-button ng-click="vm.submitSalaryEntity()" aria-label="Open Order" flex>\n                    <md-icon md-font-icon="zmdi zmdi-edit"></md-icon>\n                    提交\n                </md-button>\n            </div>\n        </md-toolbar>\n        <md-select ng-model="vm.newSalaryDto.courseType">\n            <md-option value="综合素质类课程">综合素质类课程</md-option>\n            <md-option value="副修">副修</md-option>\n\n        </md-select>\n        <md-input-container>\n            <label>课程名称</label>\n            <input ng-model="vm.newSalaryDto.courseTitle">\n        </md-input-container>\n        <md-input-container>\n            <label>人数</label>\n            <input ng-model="vm.newSalaryDto.majorPopulation">\n        </md-input-container>\n        <md-select placeholder="校区" ng-model="vm.newSalaryDto.location">\n            <md-option value="徐汇">徐汇</md-option>\n            <md-option value="奉贤">奉贤</md-option>\n        </md-select>\n\n    </tri-widget>\n</div>\n'),e.put("app/ui/stat/stat-reject-dialog.tmpl.html",'<md-dialog class="order-dialog mobile-fullwidth-dialog" flex="60" flex-sm="100">\n    <md-toolbar>\n        <div class="md-toolbar-tools">\n            <h2 flex >\n                <span>拒绝课程</span>\n            </h2>\n            <md-button class="md-icon-button" ng-click="vm.cancelClick()" aria-label="cancel">\n                <md-icon md-font-icon="zmdi zmdi-close"></md-icon>\n            </md-button>\n        </div>\n    </md-toolbar>\n\n    <md-dialog-content class="padding-20">\n        <md-input-container flex>\n            <label>拒绝理由</label>\n            <input name="commentBody" ng-model="vm.comment" columns="1" md-maxlength="150" size="100">\n        </md-input-container>\n    </md-dialog-content>\n\n    <div class="md-actions" layout="row">\n        <span flex></span>\n        <md-button ng-click="vm.answer(false)" class="md-primary" aria-label="确定">确定</md-button>\n        <md-button ng-click="vm.answer(true)" aria-label="确定">取消</md-button>\n    </div>\n</md-dialog>\n'),e.put("app/ui/system/stat-log-page.tmpl.html",'<div layout="column" layout-margin>\n\n<textarea rows="30" disabled> {{vm.log}} </textarea>\n</div>\n'),e.put("app/ui/system/system-page.tmpl.html",'<div layout="row" layout-wrap ng-cloak  >\n    <div flex="33" layout-padding>\n    <tri-widget>\n        <md-toolbar class="md-accent">\n            <div flex class="md-toolbar-tools">\n                <h2 flex>\n                    <span>教师信息修改</span>\n                </h2>\n            </div>\n        </md-toolbar>\n\n        <div flex layout="column">\n            <div layout="row">\n            <md-input-container>\n                <label>姓名</label>\n                <input size="36" ng-model="vm.demandedTeacherName">\n            </md-input-container>\n            <md-button ng-click="vm.searchTeacher(vm.demandedTeacherName)">\n                搜索\n            </md-button>\n            </div>\n            <div layout="column" ng-if="vm.selectedTeacher!=null">\n                <md-divider></md-divider>\n                <label>工号：{{vm.selectedTeacher.idCode}}</label>\n            <md-input-container>\n                <label>姓名</label>\n                <input ng-model="vm.selectedTeacher.name">\n            </md-input-container>\n            <md-input-container>\n                <label>系科</label>\n                <input ng-model="vm.selectedTeacher.department">\n            </md-input-container>\n                <md-input-container>\n                    <label>职称</label>\n                    <input ng-model="vm.selectedTeacher.proTitle">\n                </md-input-container>\n                <md-input-container>\n                    <label>岗位类型</label>\n                    <input ng-model="vm.selectedTeacher.type">\n                </md-input-container>\n                <md-select ng-model="vm.selectedTeacherAuth">\n                    <md-option ng-value="1">教师</md-option>\n                    <md-option ng-value="2">管理员</md-option>\n                    <md-option ng-value="3">财务</md-option>\n                    <md-option ng-value="4">专业负责人</md-option>\n                    <md-option ng-value="5">人事</md-option>\n                    <md-option ng-value="6">院长</md-option>\n                    <md-option ng-value="7">课程负责人</md-option>\n\n                </md-select>\n                <md-button ng-click="vm.updateTeacher(vm.selectedTeacher,vm.selectedTeacherAuth)">\n                    修改\n                </md-button>\n            </div>\n        </div>\n    </tri-widget>\n    </div>\n\n    <div flex="33" layout-padding>\n\n    <tri-widget>\n        <md-toolbar class="md-accent">\n            <div flex class="md-toolbar-tools">\n                <h2 flex>\n                    <span>添加教师</span>\n                </h2>\n            </div>\n        </md-toolbar>\n        <div flex layout="column">\n            <md-input-container>\n                <label>工号</label>\n                <input ng-model="vm.newTeacher.idCode">\n            </md-input-container>\n            <md-input-container>\n                    <label>姓名</label>\n                    <input ng-model="vm.newTeacher.name">\n                </md-input-container>\n                <md-input-container>\n                    <label>系科</label>\n                    <input ng-model="vm.newTeacher.department">\n                </md-input-container>\n                <md-input-container>\n                    <label>职称</label>\n                    <input ng-model="vm.newTeacher.proTitle">\n                </md-input-container>\n                <md-input-container>\n                    <label>岗位类型</label>\n                    <input ng-model="vm.newTeacher.type">\n                </md-input-container>\n                <md-select ng-model="vm.newTeacherAuth">\n                    <md-option ng-value="1">教师</md-option>\n                    <md-option ng-value="2">管理员</md-option>\n                    <md-option ng-value="3">财务</md-option>\n                    <md-option ng-value="4">专业负责人</md-option>\n                    <md-option ng-value="5">人事</md-option>\n                    <md-option ng-value="6">院长</md-option>\n                    <md-option ng-value="7">课程负责人</md-option>\n\n                </md-select>\n                <md-button ng-click="vm.updateTeacher(vm.newTeacher,vm.newTeacherAuth)">\n                    添加\n                </md-button>\n        </div>\n    </tri-widget>\n        </div>\n\n    <div flex="33" layout-padding>\n    <tri-widget>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>录入专业类型</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.createMajorType()" aria-label="submit">\n                        <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <div layout="column">\n            <md-input-container>\n                <label>专业名</label>\n                <input ng-model="vm.newMajorType.title">\n            </md-input-container>\n            <md-input-container>\n                <label>专业代码</label>\n                <input ng-model="vm.newMajorType.majorCode">\n            </md-input-container>\n        </div>\n    </tri-widget>\n        </div>\n\n    <div flex="33" layout-padding>\n\n    <tri-widget>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>专业数据初始化</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.createMajor()" aria-label="submit">\n                        <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <div layout="column">\n            <md-input-container>\n                <label>年级</label>\n                <input ng-model="vm.newMajor.grade">\n            </md-input-container>\n            <md-input-container>\n                <label>专业</label>\n                <md-select ng-model="vm.newMajor.majorType">\n                    <md-option ng-repeat="majorType in vm.majorTypeList" ng-value="majorType">{{majorType.title}} - {{majorType.majorCode}}</md-option>\n                </md-select>\n            </md-input-container>\n            <md-input-container>\n                <label>人数</label>\n                <input ng-model="vm.newMajor.population">\n            </md-input-container>\n        </div>\n    </tri-widget>\n    </div>\n\n    <div flex="33" layout-padding>\n\n    <tri-widget  flex="33">\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>专业信息维护</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.modifyMajor()" aria-label="submit">\n                        <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <div layout="column">\n            <md-input-container>\n                <label>专业</label>\n                <md-select ng-model="vm.newMajorUpdate">\n                    <md-option ng-repeat="major in vm.majorList track by major.id" ng-value="major">{{major.grade}}级 {{major.majorType.title}}</md-option>\n                </md-select>\n            </md-input-container>\n            <md-input-container>\n                <label>人数</label>\n                <input ng-model="vm.newMajorUpdate.population">\n            </md-input-container>\n            <label>校区</label>\n            <md-radio-group ng-model="vm.newMajorUpdate.suburb">\n                <md-radio-button value="1">奉贤</md-radio-button>\n                <md-radio-button value="0">徐汇</md-radio-button>\n            </md-radio-group>\n        </div>\n    </tri-widget>\n    </div>\n\n    <div flex="33" layout-padding>\n\n    <tri-widget>\n        <md-toolbar class="md-accent">\n            <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                <h2>\n                    <span>删除专业</span>\n                </h2>\n                <div>\n                    <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.deleteMajor()" aria-label="submit">\n                        <md-icon md-font-icon class="zmdi zmdi-delete"></md-icon>\n                    </md-button>\n                </div>\n            </div>\n        </md-toolbar>\n        <md-content layout-margin>\n            <div>\n                <md-select ng-model="vm.delMajor">\n                    <md-option ng-repeat="major in vm.majorList" ng-value="major.id" aria-label="{{major.grade}}级 {{major.majorType.title}}">\n                        {{major.grade}}级\n                        {{major.majorType.title}}\n                    </md-option>\n                </md-select>\n            </div>\n        </md-content>\n    </tri-widget>\n        </div>\n\n    <div flex="50" layout="row" layout-padding>\n\n        <tri-widget>\n            <md-toolbar class="md-accent">\n                <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                    <h2>\n                        <span>设定系统关闭日期</span>\n                    </h2>\n                    <div>\n                        <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.changeDeadline()" aria-label="submit">\n                            <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                        </md-button>\n                    </div>\n                </div>\n            </md-toolbar>\n\n\n            <div layout="row">\n                <md-datepicker ng-model="vm.deadLine" md-placeholder="设定系统关闭日期"></md-datepicker>\n\n            </div>\n        </tri-widget>\n\n    </div>\n\n\n    <div flex="50" layout="row" layout-padding>\n\n        <tri-widget>\n            <md-toolbar class="md-accent">\n                <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                    <h2>\n                        <span>设定当前学期</span>\n                    </h2>\n                    <div>\n                        <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.changeCurrentTerm()" aria-label="submit">\n                            <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                        </md-button>\n                    </div>\n                </div>\n            </md-toolbar>\n\n\n            <div layout="row">\n                    <md-radio-group placeholder="选择当前学期" ng-model="vm.newCurrentTermId">\n                        <md-radio-button ng-repeat="t in vm.allTerms" ng-value="t.id" ng-if="t.year < 2020 && t.year >= 2016">{{t.year}}-{{t.year+1}}学年第{{t.part}}学期</md-radio-button>\n                    </md-radio-group>\n            </div>\n        </tri-widget>\n    </div>\n    <div flex="50" layout="row" layout-padding>\n\n        <tri-widget>\n            <md-toolbar class="md-accent">\n                <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                    <h2>\n                        <span>调整专业负责人权限</span>\n                    </h2>\n                    <div>\n                        <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.changeRespRight()" aria-label="submit">\n                            <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                        </md-button>\n                    </div>\n                </div>\n            </md-toolbar>\n\n            <div layout="row" ng-cloak>\n                <div flex="50">\n                    <md-radio-group ng-model="vm.currentResp">\n                    <md-radio-button ng-repeat="t in vm.respList track by t.id" ng-value="t">\n                        {{t.name}}\n                        {{t.proCode}}\n                    </md-radio-button>\n                        </md-radio-group>\n                </div>\n                <div flex="50" layout="column">\n                <div ng-repeat="mts in vm.majorTypeList track by mts.id">\n                        <md-checkbox ng-checked="mts.selected" ng-click="mts.selected = !mts.selected" aria-label="{{mts.title}} {{mts.majorCode}}">\n                            {{mts.title}}\n                            {{mts.majorCode}}\n                        </md-checkbox>\n                </div>\n                </div>\n            </div>\n\n        </tri-widget>\n\n    </div>\n\n    <div flex="50" layout="row" layout-padding>\n\n        <tri-widget>\n            <md-toolbar class="md-accent">\n                <div layout="row" layout-align="space-between center" class="md-toolbar-tools">\n                    <h2>\n                        <span>调整课程负责人权限</span>\n                    </h2>\n                    <div>\n                        <md-button class="md-primary md-raised md-fab md-mini" ng-click="vm.changeRespCoursesRight()" aria-label="submit">\n                            <md-icon md-font-icon class="zmdi zmdi-assignment-check"></md-icon>\n                        </md-button>\n                    </div>\n                </div>\n            </md-toolbar>\n            <div layout="row">\n                <md-input-container>\n                    <label>课程名</label>\n                    <input size="36" ng-model="vm.demandedCourseName">\n                </md-input-container>\n                <md-button ng-click="vm.searchCourse(vm.demandedCourseName)">\n                    搜索\n                </md-button>\n            </div>\n            <div>\n                <md-list-item class="md-3-line" ng-repeat="c in vm.availableCourseList">\n                    <h4>{{c.title}}{{c.code}}</h4>\n                    <md-button class="md-accent md-raised" ng-click="vm.addCourse(c);" >添加</md-button>\n                </md-list-item>\n            </div>\n            <div>\n            <div layout="row" ng-cloak>\n                <div flex="50">\n                    <md-radio-group ng-model="vm.currentCourseResp">\n                        <md-radio-button ng-repeat="t in vm.courseRespList track by t.id" ng-value="t">\n                            {{t.name}}\n                            {{t.proCode}}\n                        </md-radio-button>\n                    </md-radio-group>\n                </div>\n                <div flex="50" layout="column">\n                    <div ng-repeat="mts in vm.coursesInCharge track by mts.id">\n                        <md-checkbox ng-checked="mts.selected" ng-click="mts.selected = !mts.selected" aria-label="{{mts.title}} {{mts.code}}">\n                            {{mts.title}}\n                            {{mts.code}}\n                        </md-checkbox>\n                    </div>\n                </div>\n            </div>\n            </div>\n        </tri-widget>\n\n    </div>\n</div>\n'),e.put("app/examples/authentication/changepass/pass.tmpl.html",'<div layout="column" flex layout-padding layout-fill layout-align="center center">\n<div layout="row" flex layout-padding layout-fill layout-align="center center">\n    <div flex="40" flex-lg="50" flex-md="70" flex-sm="100">\n        <md-card>\n            <md-toolbar>\n                <div class="padding-20 text-center">\n                   修改密码\n                </div>\n            </md-toolbar>\n\n            <md-content class="md-padding">\n                <form name="login" layout="column">\n                    <md-input-container>\n                        <label>输入现密码</label>\n                        <input id="username" label="username" name="username" type="password" ng-model="vm.user.oldPassword" required/>\n                    </md-input-container>\n                    <md-input-container>\n                        <label>输入新密码</label>\n                        <input id="username_new" label="username" name="username" type="text" ng-model="vm.user.newPassword" required/>\n                    </md-input-container>\n                    <md-input-container>\n                        <label>确认新密码</label>\n                        <input id="username_new_repeat" label="username" name="username" type="text" ng-model="vm.user.newPasswordRepeat" required/>\n                    </md-input-container>\n                    <md-button class="md-raised md-primary full-width margin-left-0 margin-right-0 margin-top-10 margin-bottom-10" ng-disabled="vm.user.newPassword == null || (vm.user.newPassword != vm.user.newPasswordRepeat)" ng-click="vm.changePass()">更改密码</md-button>\n                </form>\n            </md-content>\n        </md-card>\n    </div>\n</div>\n\n</div>\n'),e.put("app/examples/authentication/layouts/authentication.tmpl.html",'<div class="full-image-background mb-bg-fb-05" layout="row" layout-fill>\n    <div class="animate-wrapper" flex layout="row">\n        <div id="ui-login" class="login-frame" ui-view flex layout="row"></div>\n    </div>\n</div>'),e.put("app/examples/authentication/login/login.tmpl.html",'<div layout="column" flex layout-padding layout-fill layout-align="center center">\n<div layout="row" flex layout-padding layout-fill layout-align="center center">\n    <div flex="40" flex-lg="50" flex-md="70" flex-sm="100">\n        <md-card>\n            <md-toolbar>\n                <div class="padding-20 text-center">\n                    <div><img ng-src="{{::vm.triSettings.logo}}" alt="{{vm.triSettings.name}}"></div>\n                    <h1 class="md-headline" translate>LOGIN.TITLE</h1>\n                    <h4>{{vm.closureDate == "" || vm.closureDate == {}?\'系统已关闭\':\'系统关闭时间：\' + vm.closureDate}}</h4>\n                </div>\n            </md-toolbar>\n\n            <md-content class="md-padding">\n                <form name="login" layout="column">\n                    <md-input-container>\n                        <label for="username" translate>LOGIN.USERNAME.LABEL</label>\n                        <input id="username" label="username" name="username" type="username" ng-model="vm.user.username" required/>\n                        <div ng-messages="login.username.$error" ng-if="login.username.$dirty">\n                            <div ng-message when="required"><span translate>LOGIN.USERNAME.PLEASE_ENTER</span></div>\n                            <div ng-message when="username"><span translate>LOGIN.USERNAME.PLEASE_VALID</span></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container>\n                        <label for="password" translate>LOGIN.PASSWORD.LABEL</label>\n                        <input  id="password" label="password" name="password" type="password" ng-model="vm.user.password" required/>\n                        <div ng-messages for="login.password.$error" ng-if="login.password.$dirty">\n                            <div ng-message when="required"><span translate>LOGIN.PASSWORD.PLEASE_ENTER</span></div>\n                        </div>\n                    </md-input-container>\n                    <md-button class="md-raised md-primary full-width margin-left-0 margin-right-0 margin-top-10 margin-bottom-10"  ng-click="vm.login()" ng-disabled="login.$invalid" translate="LOGIN.BUTTON" aria-label="{{\'LOGIN.BUTTON\' | translate}}"></md-button>\n                </form>\n            </md-content>\n        </md-card>\n    </div>\n</div>\n\n\n\n</div>\n'),e.put("app/fbsa/components/footer/footer.tmpl.html",'<md-toolbar id="footer" md-theme="{{triSkin.elements.toolbar}}" ng-controller="FooterController as vm" ng-show="vm.layout.footer">\n    <div class="md-toolbar-tools md-body-1" layout="row" layout-align="space-between center">\n        <h2>上海师范大学商学院</h2>\n        <h2>{{vm.auth.closureDate == "" || vm.auth.closureDate == {}?\'系统已关闭\':\'系统关闭时间：\' + vm.auth.closureDate}}</h2>\n        <!--<h2 hide-sm>&copy; {{vm.date | amDateFormat:\'YYYY\'}} 上海师范大学商学院</h2>-->\n        <h2>{{vm.name}} v{{vm.version}}</h2>\n    </div>\n</md-toolbar>\n'),e.put("app/fbsa/components/menu/menu-item-divider.tmpl.html","<md-divider></md-divider>"),e.put("app/fbsa/components/menu/menu-item-dropdown.tmpl.html",'<md-button ng-click="triMenuItem.toggleDropdownMenu()" class="md-raised md-primary side-menu-link">\n    <md-icon ng-if="::(triMenuItem.item.icon !== undefined)" class="side-menu-icon" md-font-icon="{{::triMenuItem.item.icon}}"></md-icon>\n    <span translate>{{::triMenuItem.item.name}}</span>\n    <md-icon class="menu-toggle-icon" md-font-icon="zmdi zmdi-chevron-right" ng-class="{ open: triMenuItem.item.open }"></md-icon>\n</md-button>\n<ul class="drop-down-list" ng-show="triMenuItem.item.open">\n    <li ng-repeat="child in triMenuItem.item.children">\n        <tri-menu-item item="::child"></tri-menu-item>\n    </li>\n</ul>\n'),e.put("app/fbsa/components/menu/menu-item-link.tmpl.html",'<md-button ng-click="triMenuItem.openLink(triMenuItem.item)" class="md-primary md-raised side-menu-link" ng-class="{ \'md-hue-3\': triMenuItem.item.active }" md-no-ink>\n    <md-icon ng-if="::(triMenuItem.item.icon !== undefined)" class="side-menu-icon" md-font-icon="{{::triMenuItem.item.icon}}"></md-icon>\n    <span translate>{{::triMenuItem.item.name}}</span>\n</md-button>\n'),e.put("app/fbsa/components/menu/menu.tmpl.html",'<md-toolbar class="sidebar-left-toolbar" md-theme="{{::triSkin.elements.logo}}">\n    <div class="md-toolbar-tools" layout="row" layout-align="start center">\n\n        <div class="sidebar-left-logo">\n            <img ng-src="{{::vm.sidebarInfo.appLogo}}" alt="{{::vm.sidebarInfo.appName}}" width="32px">\n        </div>\n\n        <h4 flex class="sidebar-left-title">{{::vm.sidebarInfo.appName}}</h4>\n\n        <md-button class="md-icon-button sidebar-left-icon" ng-click="vm.toggleIconMenu()" aria-label="Open side menu">\n            <md-icon md-font-icon ng-class="{ \'zmdi zmdi-unfold-more\' : vm.layout.sideMenuSize == \'icon\', \'zmdi zmdi-unfold-less\' : vm.layout.sideMenuSize == \'full\' }"></md-icon>\n        </md-button>\n\n    </div>\n</md-toolbar>\n\n<tri-menu md-theme="{{triSkin.elements.sidebar}}" flex></tri-menu>\n'),e.put("app/fbsa/components/table/table-directive.tmpl.html",'<table class="md-table">\n    <thead>\n        <tr>\n            <th ng-repeat="column in columns" ng-click="sortClick(column.field)" ng-class="headerClass(column.field)" md-trigger="columns">\n                <md-icon ng-show="showSortOrder(column.field, true)" class="zmdi-hc-rotate-90" md-font-icon="zmdi zmdi-arrow-back"></md-icon>\n                <md-icon ng-show="showSortOrder(column.field, false)" class="zmdi-hc-rotate-270" md-font-icon="zmdi zmdi-arrow-back"></md-icon>\n                <span>\n                    {{column.title}}\n                </span>\n            </th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr ng-repeat="content in contents | filter:filters | startFrom:page * pageSize | limitTo: pageSize">\n            <td ng-repeat="column in columns" ng-bind-html="cellContents(column, content)" ng-class="column.field + \'-cell\'"></td>\n        </tr>\n    </tbody>\n    <tfoot>\n        <tr>\n            <td colspan="{{columns.length}}">\n                <div class="md-table-footer" layout="row" layout-align="end center">\n                    <div class="md-table-page-select" layout="row" layout-align="center center">\n                        <span>每页显示列数:</span>\n                        <md-select ng-model="pageSize" ng-change="refresh(true)">\n                            <md-option value="5">5</md-option>\n                            <md-option value="10">10</md-option>\n                            <md-option value="25">25</md-option>\n                            <md-option value="50">50</md-option>\n                            <md-option value="100">100</md-option>\n                        </md-select>\n                    </div>\n                    <span class="md-table-info">\n                        {{pageStart()}}\n                        -\n                        {{pageEnd()}}\n\n                        共 {{totalItems()}} 条\n                    </span>\n                    <div class="md-table-page-nav">\n                        <md-button ng-disabled="page == 0" ng-click="page = page - 1" aria-label="{{\'TABLES.PREV\' | translate}}" class="md-primary md-icon-button">\n                            <md-icon md-font-icon="zmdi zmdi-chevron-left"></md-icon>\n                        </md-button>\n                        <md-button ng-disabled="page == numberOfPages() - 1" ng-click="page = page + 1" aria-label="{{\'TABLES.NEXT\' | translate}}" class="md-primary md-icon-button">\n                            <md-icon md-font-icon="zmdi zmdi-chevron-right"></md-icon>\n                        </md-button>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </tfoot>\n</table>\n'),e.put("app/fbsa/components/notifications-panel/notifications-panel.tmpl.html",'<md-content flex layout class="admin-notifications">\n    <md-tabs flex layout-fill md-stretch-tabs="always" md-selected="vm.currentTab">\n        <md-tab>\n            <md-tab-label>\n                <md-icon md-font-icon="zmdi zmdi-email"></md-icon>\n            </md-tab-label>\n            <md-tab-body>\n                <md-content>\n                    <md-list>\n                        <md-list-item class="md-3-line" ng-repeat="email in ::vm.emails" ng-click="vm.openMail(email)">\n                            <img class="md-avatar animate" ng-src="{{::email.from.image}}" alt="{{::email.from.name}}">\n                            <div class="md-list-item-text">\n                                <div class="email-inbox-list-item-name-time" layout="row" layout-align="space-between start">\n                                    <h3>{{::email.from.name}}</h3>\n                                    <p class="md-caption" am-time-ago="::email.date"></p>\n                                </div>\n                                <h4>{{::email.subject}}</h4>\n                            </div>\n                            <md-divider ng-hide="$last"></md-divider>\n                        </md-list-item>\n                    </md-list>\n                </md-content>\n            </md-tab-body>\n        </md-tab>\n        <md-tab>\n            <md-tab-label>\n                <md-icon md-font-icon="fa fa-bell-o"></md-icon>\n            </md-tab-label>\n            <md-tab-body>\n                <md-content>\n                    <md-list>\n                        <div ng-repeat="group in ::vm.notificationGroups">\n                            <md-subheader class="md-primary">{{::group.name}}</md-subheader>\n                            <md-list-item ng-repeat="notification in ::group.notifications" layout="row" layout-align="space-between center">\n                                <md-icon md-font-icon="{{::notification.icon}}" ng-style="{ color: notification.iconColor }"></md-icon>\n                                <p>{{::notification.title}}</p>\n                                <span class="md-caption" am-time-ago="::notification.date"></span>\n                            </md-list-item>\n                        </div>\n                    </md-list>\n                </md-content>\n            </md-tab-body>\n        </md-tab>\n        <md-tab>\n            <md-tab-label>\n                <md-icon md-font-icon="zmdi zmdi-account"></md-icon>\n            </md-tab-label>\n            <md-tab-body>\n                <md-content>\n                    <md-list>\n                        <div ng-repeat="group in ::vm.settingsGroups">\n                            <md-subheader class="md-primary"><span translate>{{::group.name}}</span></md-subheader>\n                            <md-list-item ng-repeat="setting in ::group.settings" layout="row" layout-align="space-around center">\n                                <md-icon md-font-icon="{{::setting.icon}}"></md-icon>\n                                <p translate>{{::setting.title}}</p>\n                                <md-switch class="md-secondary" ng-model="setting.enabled"></md-switch>\n                            </md-list-item>\n                        </div>\n                        <div ng-repeat="group in ::vm.statisticsGroups">\n                            <md-subheader class="md-primary"><span translate>{{::group.name}}</span></md-subheader>\n                            <md-list-item ng-repeat="stat in ::group.stats" layout="column" layout-align="space-around start">\n                                <p translate>{{::stat.title}}</p>\n                                <md-progress-linear ng-class="::stat.mdClass" md-mode="determinate" ng-value="::stat.value"></md-progress-linear>\n                            </md-list-item>\n                        </div>\n                    </md-list>\n                </md-content>\n            </md-tab-body>\n        </md-tab>\n    </md-tabs>\n</md-content>\n'),e.put("app/fbsa/components/toolbars/toolbar.tmpl.html",'<div class="md-toolbar-tools">\n    <md-button class="md-icon-button" ng-if="!vm.hideMenuButton()" ng-click="vm.openSideNav(\'left\')" aria-label="side navigation">\n        <md-icon md-font-icon="zmdi zmdi-menu"></md-icon>\n    </md-button>\n\n    <h5 hide-sm flex>\n        <span ng-repeat="crumb in vm.breadcrumbs.crumbs">\n            <span translate>{{crumb.name}}</span>\n            <md-icon md-font-icon="zmdi zmdi-chevron-right" ng-if="!$last">\n        </span>\n    </h5>\n\n    <md-button ng-if="!vm.auth.role[\'teacher\'] && !vm.auth.role[\'president\']  && !vm.auth.role[\'finance\']" ng-click="vm.changeMajorAndTerm()" aria-label="change date">\n        {{vm.auth.major.grade}}级{{vm.auth.major.majorType.title}}\n        <span ng-if="!vm.auth.role[\'course\']">第{{vm.auth.termCount}}学期</span>\n    </md-button>\n\n    <md-icon md-font-icon="zmdi zmdi-account-circle"></md-icon>\n    <h5>{{vm.auth.roleName}}</h5>\n    <!--<md-menu>\n        <md-button aria-label="Open user menu" ng-click="$mdOpenMenu()" aria-label="side navigation">\n            <img class="toolbar-user-avatar" src="assets/images/avatars/avatar-5.png">\n            用户\n        </md-button>\n        <md-menu-content width="4">\n            <md-menu-item>\n                <md-button ng-click="vm.toggleNotificationsTab(2)" aria-label="side navigation">\n                    <md-icon md-font-icon="zmdi zmdi-settings"></md-icon>\n                    <span translate="ADMIN.TOOLBAR.SETTINGS"></span>\n                </md-button>\n            </md-menu-item>\n            <md-menu-item>\n                <md-button href="#/profile" aria-label="side navigation">\n                    <md-icon md-font-icon="zmdi zmdi-account"></md-icon>\n                    <span translate="ADMIN.TOOLBAR.PROFILE"></span>\n                </md-button>\n            </md-menu-item>\n            <md-menu-divider></md-menu-divider>\n            <md-menu-item>\n                <md-button href="#/login" aria-label="side navigation">\n                    <md-icon md-font-icon="zmdi zmdi-sign-in"></md-icon>\n                    <span translate="ADMIN.TOOLBAR.LOGOUT"></span>\n                </md-button>\n            </md-menu-item>\n\n        </md-menu-content>\n    </md-menu>-->\n</div>\n\n\n\n'),e.put("app/fbsa/components/widget/widget.tmpl.html",'<div class="widget md-whiteframe-z2" ng-class="::{\'widget-overlay-title\': vm.overlayTitle}" flex layout="{{vm.widgetLayout}}">\n\n    <div class="widget-title" ng-if="::(vm.title || vm.subtitle)" layout="row" layout-padding layout-align="space-between center" flex-order="{{vm.titleOrder}}">\n        <div layout="column" ng-if="::vm.avatar">\n            <img ng-src="{{::vm.avatar}}" class="widget-avatar"/>\n        </div>\n        <div flex layout="column">\n            <h3 class="md-subhead" ng-if="::vm.title" translate>{{::vm.title}}</h3>\n            <p class="md-body-1" ng-if="::vm.subtitle" translate>{{::vm.subtitle}}</p>\n        </div>\n        <md-menu ng-if="::vm.menu">\n            <md-button class="widget-button md-icon-button" ng-click="$mdOpenMenu()" aria-label="open menu">\n                <md-icon md-font-icon="{{::vm.menu.icon}}"></md-icon>\n            </md-button>\n            <md-menu-content>\n                <md-menu-item ng-repeat="item in ::vm.menu.items">\n                    <md-button ng-click="item.click($event)">\n                        <md-icon ng-if="::item.icon" md-font-icon="{{::item.icon}}"></md-icon>\n                        <span translate>{{::item.title}}</span>\n                    </md-button>\n                </md-menu-item>\n            </md-menu-content>\n        </md-menu>\n    </div>\n\n    <div class="widget-content" layout="{{vm.contentLayout}}" layout-align="{{vm.contentLayoutAlign}}" ng-class="{\'layout-padding\': vm.contentPadding}" ng-transclude flex-order="{{vm.contentOrder}}"></div>\n\n    <div class="widget-loading ng-hide" ng-show="vm.loading" layout layout-fill layout-align="center center">\n        <div class="widget-loading-inner" ng-show="vm.loading">\n            <md-progress-circular md-mode="indeterminate"></md-progress-circular>\n        </div>\n    </div>\n\n</div>'),e.put("app/fbsa/layouts/default/default-no-scroll.tmpl.html",'<div layout="row" class="full-height">\n    <!-- left sidebar -->\n\n    <md-sidenav class="admin-sidebar-left md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="layout.sideMenuSize !== \'hidden\' && $mdMedia(\'gt-md\')" ui-view="sidebarLeft" ng-class="{ \'admin-sidebar-collapsed\': layout.sideMenuSize == \'icon\' }" ng-mouseover="layoutController.activateHover()" ng-mouseleave="layoutController.removeHover()"></md-sidenav>\n\n    <!-- main content -->\n    <div id="admin-panel" layout="column" flex>\n        <!-- loading animation -->\n        <tri-loader></tri-loader>\n\n        <!-- top toolbar -->\n        <md-toolbar class="admin-toolbar" md-theme="{{triSkin.elements.toolbar}}" ui-view="toolbar" ng-class="[layout.toolbarSize,layout.toolbarClass]"></md-toolbar>\n\n        <!-- scrollable content -->\n        <div ui-view="content" layout="column" flex class="overflow-hidden"></div>\n\n        <div ui-view="belowContent"></div>\n    </div>\n\n    <!-- right sidebar -->\n    <md-sidenav layout layout-fill class="md-sidenav-right md-whiteframe-z2" md-component-id="notifications" ui-view="sidebarRight"></md-sidenav>\n</div>\n'),e.put("app/fbsa/layouts/default/default.tmpl.html",'<div layout="row" class="full-height">\n    <!-- left sidebar -->\n\n    <md-sidenav class="admin-sidebar-left md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="layout.sideMenuSize !== \'hidden\' && $mdMedia(\'gt-sm\')" ui-view="sidebarLeft" ng-class="{ \'admin-sidebar-collapsed\': layout.sideMenuSize == \'icon\' }" ng-mouseover="layoutController.activateHover()" ng-mouseleave="layoutController.removeHover()"></md-sidenav>\n\n    <!-- main content -->\n    <div id="admin-panel" tabindex="-1" layout="column" flex>\n        <!-- loading animation -->\n        <tri-loader></tri-loader>\n\n        <!-- top toolbar -->\n        <md-toolbar md-scroll-shrink="layout.toolbarShrink" class="admin-toolbar" ng-if="layout.showToolbar" md-theme="{{triSkin.elements.toolbar}}" ui-view="toolbar" ng-class="[layout.toolbarSize,layout.toolbarClass]"></md-toolbar>\n\n        <!-- scrollable content -->\n        <div ng-class="layout.contentClass" flex tri-default-content ui-view="content" style="overflow:scroll;"></div>\n        <div ui-view="belowContent"></div>\n    </div>\n\n    <!-- right sidebar -->\n    <md-sidenav layout layout-fill class="md-sidenav-right md-whiteframe-z2" md-component-id="notifications" ui-view="sidebarRight"></md-sidenav>\n</div>\n')
}]);